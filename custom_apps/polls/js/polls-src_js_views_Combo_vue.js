"use strict";(self.webpackChunkpolls=self.webpackChunkpolls||[]).push([["src_js_views_Combo_vue"],{82869:(t,e,o)=>{o.d(e,{Z:()=>n});const n={name:"PollsAppIcon",props:{title:{type:String,default:"Polls"},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}}},24274:(t,e,o)=>{o.d(e,{s:()=>n,x:()=>i});var n=function(){var t=this,e=t._self._c;return e("span",t._b({staticClass:"material-design-icon polls-app-icon",attrs:{"aria-hidden":!t.title,"aria-label":t.title,role:"img"},on:{click:function(e){return t.$emit("click",e)}}},"span",t.$attrs,!1),[e("svg",{staticClass:"material-design-icon__svg",attrs:{fill:t.fillColor,width:t.size,height:t.size,viewBox:"0 0 32 32"}},[e("g",{attrs:{fill:t.fillColor}},[e("rect",{attrs:{y:"2",x:"3",height:"26",width:"7"}}),e("rect",{attrs:{y:"12",x:"12",height:"16",width:"7"}}),e("rect",{attrs:{y:"8",x:"21",height:"20",width:"7"}}),t.title?e("title",[t._v(t._s(t.title))]):t._e()])])])},i=[];n._withStripped=!0},98701:(t,e,o)=>{o.d(e,{Z:()=>r});var n=o(87537),i=o.n(n),l=o(23645),a=o.n(l)()(i());a.push([t.id,".page--scrolled .header_bar_bottom{display:none}.header_bar .header_bar_top{display:flex;flex-wrap:wrap-reverse;justify-content:flex-end;gap:8px;min-height:3em}.header_bar .header_bar_top .bar_top_left{display:flex;flex-direction:column;flex:1 180px;justify-content:center}.header_bar .header_bar_top .header_title{font-weight:bold;font-size:1em;line-height:1.5em;overflow:hidden;text-overflow:ellipsis;display:-webkit-box}.header_bar .header_bar_top .header_title.clamped{-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical}.header_bar .header_bar_top .sub{display:flex;flex-wrap:wrap}.header_bar .header_bar_top .header_bar_bottom{display:flex;margin-bottom:16px}.header_bar [class*=bar_]{flex:0}","",{version:3,sources:["webpack://./src/js/components/Base/HeaderBar.vue"],names:[],mappings:"AACA,mCACC,YAAA,CAIA,4BACC,YAAA,CACA,sBAAA,CACA,wBAAA,CACA,OAAA,CACA,cAAA,CAEA,0CACC,YAAA,CACA,qBAAA,CACA,YAAA,CACA,sBAAA,CAGD,0CACC,gBAAA,CACA,aAAA,CACA,iBAAA,CACA,eAAA,CACA,sBAAA,CACA,mBAAA,CACA,kDACC,oBAAA,CACA,YAAA,CACA,2BAAA,CAGF,iCACC,YAAA,CACA,cAAA,CAED,+CACC,YAAA,CACA,kBAAA,CAIF,0BACC,MAAA",sourcesContent:['\n.page--scrolled .header_bar_bottom {\n\tdisplay: none;\n}\n\n.header_bar {\n\t.header_bar_top {\n\t\tdisplay: flex;\n\t\tflex-wrap: wrap-reverse;\n\t\tjustify-content: flex-end;\n\t\tgap: 8px;\n\t\tmin-height: 3em;\n\n\t\t.bar_top_left {\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\tflex: 1 180px;\n\t\t\tjustify-content: center;\n\t\t}\n\n\t\t.header_title {\n\t\t\tfont-weight: bold;\n\t\t\tfont-size: 1em;\n\t\t\tline-height: 1.5em;\n\t\t\toverflow: hidden;\n\t\t\ttext-overflow: ellipsis;\n\t\t\tdisplay: -webkit-box;\n\t\t\t&.clamped {\n\t\t\t\t-webkit-line-clamp: 2;\n\t\t\t\tline-clamp: 2;\n\t\t\t\t-webkit-box-orient: vertical;\n\t\t\t}\n\t\t}\n\t\t.sub {\n\t\t\tdisplay: flex;\n\t\t\tflex-wrap: wrap;\n\t\t}\n\t\t.header_bar_bottom {\n\t\t\tdisplay: flex;\n\t\t\tmargin-bottom: 16px;\n\t\t}\n\t}\n\n\t[class*="bar_"] {\n\t\tflex: 0;\n\t}\n}\n'],sourceRoot:""}]);const r=a},77674:(t,e,o)=>{o.d(e,{Z:()=>r});var n=o(87537),i=o.n(n),l=o(23645),a=o.n(l)()(i());a.push([t.id,'.combo-title{margin-bottom:16px}.combo-table{display:flex;flex:1}.combo-table .spacer{flex:1}.combo-table .poll-group{display:flex;flex-direction:column}.combo-table .participant,.combo-table .vote-item{flex:0 0 auto;height:4.5em;line-height:1.5em;padding:4px;border-top:solid 1px var(--color-border-dark)}.combo-table .user-column{display:flex;flex-direction:column;overflow-x:scroll;margin-bottom:4px}.combo-table .user-column .participant{display:flex;max-width:245px}.combo-table .vote-grid{display:flex;flex:1;overflow-x:scroll}.combo-table .user-column::after,.combo-table .vote-column::after{content:"";height:8px}',"",{version:3,sources:["webpack://./src/js/components/Combo/ComboTable.vue"],names:[],mappings:"AACA,aACC,kBAAA,CAGD,aACC,YAAA,CACA,MAAA,CAEA,qBACC,MAAA,CAGD,yBACC,YAAA,CACA,qBAAA,CAGD,kDACC,aAAA,CACA,YAAA,CACA,iBAAA,CACA,WAAA,CACA,6CAAA,CAGD,0BACC,YAAA,CACA,qBAAA,CACA,iBAAA,CACA,iBAAA,CACA,uCACC,YAAA,CACA,eAAA,CAIF,wBACC,YAAA,CACA,MAAA,CACA,iBAAA,CAGD,kEACC,UAAA,CACA,UAAA",sourcesContent:["\n.combo-title {\n\tmargin-bottom: 16px;\n}\n\n.combo-table {\n\tdisplay: flex;\n\tflex: 1;\n\n\t.spacer {\n\t\tflex: 1;\n\t}\n\n\t.poll-group {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t}\n\n\t.participant, .vote-item {\n\t\tflex: 0 0 auto;\n\t\theight: 4.5em;\n\t\tline-height: 1.5em;\n\t\tpadding: 4px;\n\t\tborder-top: solid 1px var(--color-border-dark);\n\t}\n\n\t.user-column {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\toverflow-x: scroll;\n\t\tmargin-bottom: 4px;\n\t\t.participant {\n\t\t\tdisplay: flex;\n\t\t\tmax-width: 245px;\n\t\t}\n\t}\n\n\t.vote-grid {\n\t\tdisplay: flex;\n\t\tflex: 1;\n\t\toverflow-x: scroll;\n\t}\n\n\t.user-column::after, .vote-column::after {\n\t\tcontent: '';\n\t\theight: 8px;\n\t}\n}\n"],sourceRoot:""}]);const r=a},27597:(t,e,o)=>{o.d(e,{Z:()=>r});var n=o(87537),i=o.n(n),l=o(23645),a=o.n(l)()(i());a.push([t.id,".vote-column{display:flex;flex:1 0 85px;flex-direction:column;align-items:stretch;max-width:280px;border-left:1px solid var(--color-border-dark);margin-bottom:4px}","",{version:3,sources:["webpack://./src/js/components/Combo/VoteColumn.vue"],names:[],mappings:"AACA,aACC,YAAA,CACA,aAAA,CACA,qBAAA,CACA,mBAAA,CACA,eAAA,CACA,8CAAA,CACA,iBAAA",sourcesContent:["\n.vote-column {\n\tdisplay: flex;\n\tflex: 1 0 85px;\n\tflex-direction: column;\n\talign-items: stretch;\n\tmax-width: 280px;\n\tborder-left: 1px solid var(--color-border-dark);\n\tmargin-bottom: 4px;\n}\n"],sourceRoot:""}]);const r=a},25966:(t,e,o)=>{o.d(e,{Z:()=>r});var n=o(87537),i=o.n(n),l=o(23645),a=o.n(l)()(i());a.push([t.id,".vote-item{display:flex;justify-content:center;align-items:center;background-color:var(--color-polls-background-no);transition:background-color 1s ease-out;background-clip:content-box}.vote-item>.icon{color:var(--color-polls-foreground-no);background-position:center;background-repeat:no-repeat;background-size:90%;width:30px;height:30px;flex:0 0 auto}.vote-item.empty{background-color:rgba(0,0,0,0)}.vote-item.yes{background-color:var(--color-polls-background-yes)}.vote-item.yes>.icon{color:var(--color-polls-foreground-yes);background-image:var(--icon-polls-yes)}.vote-item.maybe{background-color:var(--color-polls-background-maybe)}.vote-item.maybe>.icon{color:var(--color-polls-foreground-maybe);background-image:var(--icon-polls-maybe)}.vote-item.no{background-color:var(--color-polls-background-no)}","",{version:3,sources:["webpack://./src/js/components/Combo/VoteItem.vue"],names:[],mappings:"AAEA,WACC,YAAA,CACA,sBAAA,CACA,kBAAA,CACA,iDAAA,CACA,uCAAA,CACA,2BAAA,CAEA,iBACC,sCAAA,CACA,0BAAA,CACA,2BAAA,CACA,mBAAA,CACA,UAAA,CACA,WAAA,CACA,aAAA,CAGD,iBACC,8BAAA,CAGD,eACC,kDAAA,CACA,qBACC,uCAAA,CACA,sCAAA,CAIF,iBACC,oDAAA,CACA,uBACC,yCAAA,CACA,wCAAA,CAIF,cACC,iDAAA",sourcesContent:["\n\n.vote-item {\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tbackground-color: var(--color-polls-background-no);\n\ttransition: background-color 1s ease-out;\n\tbackground-clip: content-box;\n\n\t> .icon {\n\t\tcolor: var(--color-polls-foreground-no);\n\t\tbackground-position: center;\n\t\tbackground-repeat: no-repeat;\n\t\tbackground-size: 90%;\n\t\twidth: 30px;\n\t\theight: 30px;\n\t\tflex: 0 0 auto;\n\t}\n\n\t&.empty {\n\t\tbackground-color: transparent;\n\t}\n\n\t&.yes {\n\t\tbackground-color: var(--color-polls-background-yes);\n\t\t> .icon {\n\t\t\tcolor: var(--color-polls-foreground-yes);\n\t\t\tbackground-image: var(--icon-polls-yes)\n\t\t}\n\t}\n\n\t&.maybe {\n\t\tbackground-color: var(--color-polls-background-maybe);\n\t\t> .icon {\n\t\t\tcolor: var(--color-polls-foreground-maybe);\n\t\t\tbackground-image: var(--icon-polls-maybe)\n\t\t}\n\t}\n\n\t&.no {\n\t\tbackground-color: var(--color-polls-background-no);\n\t}\n}\n"],sourceRoot:""}]);const r=a},50727:(t,e,o)=>{o.d(e,{Z:()=>r});var n=o(87537),i=o.n(n),l=o(23645),a=o.n(l)()(i());a.push([t.id,".option-item{display:flex;align-items:center;flex:1;position:relative}.option-item.date-box{align-items:stretch;flex-direction:column}.option-item .material-design-icon{visibility:hidden}.option-item:hover .material-design-icon{visibility:visible}.devider{align-self:center;color:var(--color-text-maxcontrast)}.option-item__option--datebox{display:flex;flex-direction:column;align-items:stretch;justify-content:flex-start;text-align:center;hyphens:auto}.event-date{display:flex;flex:0 1;flex-direction:row;justify-content:center}.event-date .event-from,.event-date .event-to{display:flex;flex-direction:column;flex:1;min-width:70px}.event-date .event-from .month,.event-date .event-from .dow,.event-date .event-from .time,.event-date .event-to .month,.event-date .event-to .dow,.event-date .event-to .time{white-space:pre;font-size:1.1em;padding:0 4px;color:var(--color-text-maxcontrast)}.event-date .event-from .day,.event-date .event-to .day{font-size:1.2em;font-weight:600;margin:5px 0 5px 0;padding:0 4px}.event-date .event-from .time,.event-date .event-to .time{font-size:.8em;padding:0 4px}.event-time{display:flex;flex-direction:column;align-items:center;margin-top:8px;height:1.5em}.event-time .time-to{font-size:.8em}[class*=option-item__option]{flex:1;opacity:1;white-space:normal}.option-item__option--text{overflow:hidden;text-overflow:ellipsis}.option-item__option--text a{font-weight:bold;text-decoration:underline}.option-item__handle{margin-right:8px}.draggable,.draggable [class*=option-item__option]{cursor:grab}.draggable:active,.draggable [class*=option-item__option]:active{cursor:grabbing;cursor:-moz-grabbing;cursor:-webkit-grabbing}.option-item__rank{flex:0 0;justify-content:flex-end;padding-right:8px}","",{version:3,sources:["webpack://./src/js/components/Options/OptionItem.vue"],names:[],mappings:"AACA,aACC,YAAA,CACA,kBAAA,CACA,MAAA,CACA,iBAAA,CACA,sBACC,mBAAA,CACA,qBAAA,CAGD,mCACC,iBAAA,CAIA,yCACC,kBAAA,CAKH,SACC,iBAAA,CACA,mCAAA,CAGD,8BACC,YAAA,CACA,qBAAA,CACA,mBAAA,CACA,0BAAA,CACA,iBAAA,CACA,YAAA,CAGD,YACC,YAAA,CACA,QAAA,CACA,kBAAA,CACA,sBAAA,CAEA,8CACC,YAAA,CACA,qBAAA,CACA,MAAA,CACA,cAAA,CAEA,8KACC,eAAA,CACA,eAAA,CACA,aAAA,CACA,mCAAA,CAED,wDACC,eAAA,CACA,eAAA,CACA,kBAAA,CACA,aAAA,CAGD,0DACC,cAAA,CACA,aAAA,CAKH,YACC,YAAA,CACA,qBAAA,CACA,kBAAA,CACA,cAAA,CACA,YAAA,CACA,qBACC,cAAA,CAIF,6BACC,MAAA,CACA,SAAA,CACA,kBAAA,CAGD,2BACC,eAAA,CACA,sBAAA,CAEA,6BACC,gBAAA,CACA,yBAAA,CAIF,qBACC,gBAAA,CAGD,mDACC,WAAA,CACA,iEACC,eAAA,CACA,oBAAA,CACA,uBAAA,CAIF,mBACC,QAAA,CACA,wBAAA,CACA,iBAAA",sourcesContent:["\n.option-item {\n\tdisplay: flex;\n\talign-items: center;\n\tflex: 1;\n\tposition: relative;\n\t&.date-box {\n\t\talign-items: stretch;\n\t\tflex-direction: column;\n\t}\n\n\t.material-design-icon {\n\t\tvisibility: hidden;\n\t}\n\n\t&:hover {\n\t\t.material-design-icon {\n\t\t\tvisibility: visible;\n\t\t}\n\t}\n}\n\n.devider {\n\talign-self: center;\n\tcolor: var(--color-text-maxcontrast);\n}\n\n.option-item__option--datebox {\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: stretch;\n\tjustify-content: flex-start;\n\ttext-align: center;\n\thyphens: auto;\n}\n\n.event-date {\n\tdisplay: flex;\n\tflex: 0 1;\n\tflex-direction: row;\n\tjustify-content: center;\n\n\t.event-from, .event-to {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tflex: 1;\n\t\tmin-width: 70px;\n\n\t\t.month, .dow, .time {\n\t\t\twhite-space: pre;\n\t\t\tfont-size: 1.1em;\n\t\t\tpadding: 0 4px;\n\t\t\tcolor: var(--color-text-maxcontrast);\n\t\t}\n\t\t.day {\n\t\t\tfont-size: 1.2em;\n\t\t\tfont-weight: 600;\n\t\t\tmargin: 5px 0 5px 0;\n\t\t\tpadding: 0 4px;\n\t\t}\n\n\t\t.time {\n\t\t\tfont-size: 0.8em;\n\t\t\tpadding: 0 4px;\n\t\t}\n\t}\n}\n\n.event-time {\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tmargin-top: 8px;\n\theight: 1.5em;\n\t.time-to {\n\t\tfont-size: 0.8em;\n\t}\n}\n\n[class*='option-item__option'] {\n\tflex: 1;\n\topacity: 1;\n\twhite-space: normal;\n}\n\n.option-item__option--text {\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\n\ta {\n\t\tfont-weight: bold;\n\t\ttext-decoration: underline;\n\t}\n}\n\n.option-item__handle {\n\tmargin-right: 8px;\n}\n\n.draggable, .draggable [class*='option-item__option']  {\n\tcursor: grab;\n\t&:active {\n\t\tcursor: grabbing;\n\t\tcursor: -moz-grabbing;\n\t\tcursor: -webkit-grabbing;\n\t}\n}\n\n.option-item__rank {\n\tflex: 0 0;\n\tjustify-content: flex-end;\n\tpadding-right: 8px;\n}\n"],sourceRoot:""}]);const r=a},60625:(t,e,o)=>{o.d(e,{Z:()=>l});var n=function(){var t=this,e=t._self._c;return e("span",t._b({staticClass:"material-design-icon drag-horizontal-variant-icon",attrs:{"aria-hidden":!t.title,"aria-label":t.title,role:"img"},on:{click:function(e){return t.$emit("click",e)}}},"span",t.$attrs,!1),[e("svg",{staticClass:"material-design-icon__svg",attrs:{fill:t.fillColor,width:t.size,height:t.size,viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M21 11H3V9H21V11M21 13H3V15H21V13Z"}},[t.title?e("title",[t._v(t._s(t.title))]):t._e()])])])};n._withStripped=!0;const i={name:"DragHorizontalVariantIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};const l=(0,o(51900).Z)(i,n,[],!1,null,null,null).exports},71109:(t,e,o)=>{o.d(e,{Z:()=>l});var n=function(){var t=this,e=t._self._c;return e("span",t._b({staticClass:"material-design-icon text-account-icon",attrs:{"aria-hidden":!t.title,"aria-label":t.title,role:"img"},on:{click:function(e){return t.$emit("click",e)}}},"span",t.$attrs,!1),[e("svg",{staticClass:"material-design-icon__svg",attrs:{fill:t.fillColor,width:t.size,height:t.size,viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M21 5V7H3V5H21M3 17H12V15H3V17M3 12H21V10H3V12M18 14C19.11 14 20 14.9 20 16S19.11 18 18 18 16 17.11 16 16 16.9 14 18 14M14 22V21C14 19.9 15.79 19 18 19S22 19.9 22 21V22H14Z"}},[t.title?e("title",[t._v(t._s(t.title))]):t._e()])])])};n._withStripped=!0;const i={name:"TextAccountIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};const l=(0,o(51900).Z)(i,n,[],!1,null,null,null).exports},37597:(e,o,n)=>{n.d(o,{Z:()=>s});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"action toggle-sidebar"},[e("NcButton",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.caption,expression:"caption"}],attrs:{"aria-label":t.caption,type:"tertiary"},on:{click:function(e){return t.clickAction()}},scopedSlots:t._u([{key:"icon",fn:function(){return[e("SidebarIcon")]},proxy:!0}])})],1)};i._withStripped=!0;var l=n(15961),a=n(69183);const r={name:"ActionToggleSidebar",components:{SidebarIcon:n(71109).Z,NcButton:l.P2},data:()=>({caption:t("polls","Toggle Sidebar")}),methods:{clickAction(){(0,a.j8)("polls:sidebar:toggle")}}};const s=(0,n(51900).Z)(r,i,[],!1,null,null,null).exports},73108:(t,e,o)=>{o.d(e,{Z:()=>l});var n=o(53729),i=o(77745);const l=(0,o(51900).Z)(i.Z,n.s,n.x,!1,null,null,null).exports},1410:(t,e,o)=>{o.d(e,{Z:()=>g});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"header_bar"},[e("div",{staticClass:"header_bar_top"},[e("div",{staticClass:"bar_top_left"},[e("div",{class:["header_title",{clamped:t.clamped}],on:{click:function(e){return t.toggleClamp()}}},[t._t("title")],2),e("div",{staticClass:"bar_top_left_sub"},[t._t("sub")],2)]),e("div",{staticClass:"bar_top_right"},[t._t("right")],2)]),e("div",{staticClass:"header_bar_bottom"},[t._t("default")],2)])};n._withStripped=!0;const i={name:"HeaderBar",data:()=>({clamped:!0}),methods:{toggleClamp(){this.clamped=!this.clamped}}};var l=o(93379),a=o.n(l),r=o(7795),s=o.n(r),A=o(90569),c=o.n(A),p=o(3565),d=o.n(p),m=o(19216),C=o.n(m),u=o(44589),v=o.n(u),f=o(98701),b={};b.styleTagTransform=v(),b.setAttributes=d(),b.insert=c().bind(null,"head"),b.domAPI=s(),b.insertStyleElement=C();a()(f.Z,b);f.Z&&f.Z.locals&&f.Z.locals;const g=(0,o(51900).Z)(i,n,[],!1,null,null,null).exports},45822:(t,e,o)=>{o.d(e,{Z:()=>_});var n=function(){var t=this,e=t._self._c;return e(t.tag,{tag:"Component",staticClass:"option-item",class:{draggable:t.isDraggable,"date-box":"dateBox"===t.show}},[t.isDraggable?e("DragIcon",{class:{draggable:t.isDraggable}}):t._e(),t._t("icon"),"textBox"===t.show?e("div",{directives:[{name:"tooltip",rawName:"v-tooltip.auto",value:t.optionTooltip,expression:"optionTooltip",modifiers:{auto:!0}}],staticClass:"option-item__option--text",domProps:{innerHTML:t._s(t.optionText)}}):t._e(),"dateBox"===t.show?e("div",{directives:[{name:"tooltip",rawName:"v-tooltip.auto",value:t.dateLocalFormatUTC,expression:"dateLocalFormatUTC",modifiers:{auto:!0}}],staticClass:"option-item__option--datebox"},[e("div",{staticClass:"event-date"},[e("div",{staticClass:"event-from"},[e("div",{staticClass:"month"},[t._v(" "+t._s(t.eventOption.from.month)+" ")]),e("div",{staticClass:"day"},[t._v(" "+t._s(t.eventOption.from.dow)+" "+t._s(t.eventOption.from.day)+" ")]),t.eventOption.dayLong?t._e():e("div",{staticClass:"time"},[t._v(" "+t._s(t.eventOption.from.time)+" "),!t.eventOption.dayLong&&t.option.duration&&t.eventOption.to.sameDay?e("span",[t._v(" - "+t._s(t.eventOption.to.time)+" ")]):t._e()])]),t.option.duration&&!t.eventOption.to.sameDay?e("div",{staticClass:"devider"},[t._v(" - ")]):t._e(),t.option.duration&&!t.eventOption.to.sameDay?e("div",{staticClass:"event-to"},[e("div",{staticClass:"month"},[t._v(" "+t._s(t.eventOption.to.month)+" ")]),e("div",{staticClass:"day"},[t._v(" "+t._s(t.eventOption.to.dow)+" "+t._s(t.eventOption.to.day)+" ")]),t.eventOption.dayLong?t._e():e("div",{staticClass:"time"},[t._v(" "+t._s(t.eventOption.to.time)+" ")])]):t._e()])]):t._e(),t._t("actions")],2)};n._withStripped=!0;var i=o(80351),l=o.n(i),a=o(50337);const r={name:"OptionItem",components:{DragIcon:o(60625).Z},props:{draggable:{type:Boolean,default:!1},option:{type:Object,required:!0},tag:{type:String,default:"div"},display:{type:String,default:"textBox",validator:t=>["textBox","dateBox"].includes(t)},pollType:{type:String,default:"textPoll",validator:t=>["textPoll","datePoll"].includes(t)}},computed:{isDraggable(){return this.draggable},eventOption(){const t=l().unix(this.option.timestamp),e=l().unix(this.option.timestamp+Math.max(0,this.option.duration)),o=t.unix()===l()(t).startOf("day").unix()&&e.unix()===l()(e).startOf("day").unix()&&t.unix()!==e.unix(),n=o?1:0,i=l()(e).subtract(n,"days");return"datePoll"!==this.pollType?{}:{from:{month:t.format(l()().year()===t.year()?"MMM":"MMM [ ']YY"),day:t.format("D"),dow:t.format("ddd"),time:t.format("LT"),date:t.format("ll"),dateTime:t.format("llll"),utc:l()(t).utc().format("llll")},to:{month:i.format(l()().year()===i.year()?"MMM":"MMM [ ']YY"),day:i.format("D"),dow:i.format("ddd"),time:e.format("LT"),date:i.format("ll"),dateTime:e.format("llll"),utc:l()(e).utc().format("llll"),sameDay:t.format("L")===i.format("L")},dayLong:o}},dateLocalFormat(){return"datePoll"!==this.pollType?{}:0===this.option.duration?this.eventOption.from.dateTime:this.eventOption.dayLong&&this.eventOption.to.sameDay?this.eventOption.from.date:this.eventOption.dayLong&&!this.eventOption.to.sameDay?"".concat(this.eventOption.from.date," - ").concat(this.eventOption.to.date):this.eventOption.to.sameDay?"".concat(this.eventOption.from.dateTime," - ").concat(this.eventOption.to.time):"".concat(this.eventOption.from.dateTime," - ").concat(this.eventOption.to.dateTime)},dateLocalFormatUTC(){return this.option.duration?"".concat(this.eventOption.from.utc," - ").concat(this.eventOption.to.utc," UTC"):"".concat(this.eventOption.from.utc," UTC")},optionTooltip(){return"datePoll"===this.pollType?this.dateLocalFormatUTC:this.option.text},optionText(){return"datePoll"===this.pollType?this.dateLocalFormat:(0,a.default)(this.option.text)},show(){return"datePoll"===this.pollType&&"dateBox"===this.display?"dateBox":"textBox"}}};var s=o(93379),A=o.n(s),c=o(7795),p=o.n(c),d=o(90569),m=o.n(d),C=o(3565),u=o.n(C),v=o(19216),f=o.n(v),b=o(44589),g=o.n(b),x=o(50727),h={};h.styleTagTransform=g(),h.setAttributes=u(),h.insert=m().bind(null,"head"),h.domAPI=p(),h.insertStyleElement=f();A()(x.Z,h);x.Z&&x.Z.locals&&x.Z.locals;const _=(0,o(51900).Z)(r,n,[],!1,null,null,null).exports},63634:(e,o,n)=>{n.r(o),n.d(o,{default:()=>j});var i=function(){var t=this,e=t._self._c;return e("NcAppContent",[e("HeaderBar",{staticClass:"area__header",scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" "+t._s(t.title)+" ")]},proxy:!0},{key:"right",fn:function(){return[e("div",{staticClass:"poll-header-buttons"},[e("ActionToggleSidebar")],1)]},proxy:!0}])},[t._v(" "+t._s(t.description)+" ")]),e("div",{staticClass:"area__main"},[e("ComboTable",{directives:[{name:"show",rawName:"v-show",value:t.polls.length,expression:"polls.length"}]}),t.polls.length?t._e():e("NcEmptyContent",{attrs:{title:t.t("polls","No polls selected")},scopedSlots:t._u([{key:"icon",fn:function(){return[e("PollsAppIcon")]},proxy:!0},{key:"action",fn:function(){return[t._v(" "+t._s(t.t("polls","Select polls by clicking on them in the right sidebar!"))+" ")]},proxy:!0}],null,!1,1218065574)})],1),t.isLoading?e("LoadingOverlay"):t._e()],1)};i._withStripped=!0;var l=n(20629),a=n(15961),r=function(){var t=this,e=t._self._c;return e("div",{class:["combo-table",t.viewMode]},[e("div",{staticClass:"user-column"},[e("div",{staticClass:"spacer"}),t._l(t.polls,(function(o){return e("div",{directives:[{name:"tooltip",rawName:"v-tooltip.auto",value:o.title,expression:"poll.title",modifiers:{auto:!0}}],key:o.id,staticClass:"poll-group"},t._l(t.participantsByPoll(o.id),(function(o){return e("div",{key:"".concat(o.userId,"_").concat(o.pollId),staticClass:"participant"},[e("UserItem",t._b({attrs:{condensed:""}},"UserItem",o,!1))],1)})),0)}))],2),e("transition-group",{staticClass:"vote-grid",attrs:{name:"list",tag:"div"}},t._l(t.options,(function(t){return e("VoteColumn",{key:t.id,attrs:{option:t}})})),1)],1)};r._withStripped=!0;var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"vote-column"},[e("OptionItem",{attrs:{option:t.option,"poll-type":"datePoll",display:"dateBox"}}),t._l(t.polls,(function(o){return e("div",{directives:[{name:"tooltip",rawName:"v-tooltip.auto",value:o.title,expression:"poll.title",modifiers:{auto:!0}}],key:o.id,staticClass:"poll-group"},t._l(t.participantsByPoll(o.id),(function(n){return e("VoteItem",{key:"".concat(n.userId,"_").concat(n.pollId),attrs:{"poll-id":o.id,user:n,option:t.option}})})),1)}))],2)};s._withStripped=!0;var A=function(){var t=this,e=t._self._c;return e("div",{staticClass:"vote-item",class:[t.answer,{empty:t.foreignOption}]},[e("div",{staticClass:"icon"}),t._t("indicator")],2)};A._withStripped=!0;const c={name:"VoteItem",props:{option:{type:Object,default:void 0},user:{type:Object,default:null},pollId:{type:Number,default:0}},computed:{...(0,l.Se)({optionBelongsToPoll:"combo/optionBelongsToPoll"}),answer(){return this.$store.getters["combo/getVote"]({option:this.option,user:this.user}).answer},foreignOption(){return!this.optionBelongsToPoll({text:this.option.text,pollId:this.pollId})}}};var p=n(93379),d=n.n(p),m=n(7795),C=n.n(m),u=n(90569),v=n.n(u),f=n(3565),b=n.n(f),g=n(19216),x=n.n(g),h=n(44589),_=n.n(h),y=n(25966),w={};w.styleTagTransform=_(),w.setAttributes=b(),w.insert=v().bind(null,"head"),w.domAPI=C(),w.insertStyleElement=x();d()(y.Z,w);y.Z&&y.Z.locals&&y.Z.locals;var B=n(51900);const k={name:"VoteColumn",components:{VoteItem:(0,B.Z)(c,A,[],!1,null,null,null).exports,OptionItem:n(45822).Z},props:{option:{type:Object,default:void 0}},computed:{...(0,l.Se)({participantsByPoll:"combo/participantsInPoll",optionBelongsToPoll:"combo/optionBelongsToPoll"}),...(0,l.rn)({polls:t=>t.combo.polls,participants:t=>t.combo.participants})}};var Z=n(27597),T={};T.styleTagTransform=_(),T.setAttributes=b(),T.insert=v().bind(null,"head"),T.domAPI=C(),T.insertStyleElement=x();d()(Z.Z,T);Z.Z&&Z.Z.locals&&Z.Z.locals;const O={name:"ComboTable",components:{VoteColumn:(0,B.Z)(k,s,[],!1,null,null,null).exports},props:{viewMode:{type:String,default:"table-view",validator:t=>["table-view","list-view"].includes(t)}},computed:{...(0,l.rn)({polls:t=>t.combo.polls}),...(0,l.Se)({options:"combo/uniqueOptions",participantsByPoll:"combo/participantsInPoll"})}};var S=n(77674),I={};I.styleTagTransform=_(),I.setAttributes=b(),I.insert=v().bind(null,"head"),I.domAPI=C(),I.insertStyleElement=x();d()(S.Z,I);S.Z&&S.Z.locals&&S.Z.locals;const D=(0,B.Z)(O,r,[],!1,null,null,null).exports;var P=n(37597),M=n(1410),Y=n(73108);const z={name:"Combo",components:{ActionToggleSidebar:P.Z,NcAppContent:a.Mb,ComboTable:D,NcEmptyContent:a.SL,HeaderBar:M.Z,PollsAppIcon:Y.Z,LoadingOverlay:()=>n.e("src_js_components_Base_LoadingOverlay_vue").then(n.bind(n,95117))},data:()=>({isLoading:!1,title:t("polls","Combined polls"),description:t("polls","Combine multiple date polls in a single view")}),computed:{...(0,l.Se)({pollCombo:"combo/pollCombo"}),...(0,l.rn)({polls:t=>t.combo.polls,savePollCombo:t=>t.settings.user.pollCombo}),windowTitle(){return"".concat(t("polls","Polls")," - ").concat(this.title)}},watch:{pollCombo(){this.setPollCombo({pollCombo:this.pollCombo})},savePollCombo(){this.verifyPolls()}},created(){this.verifyPolls()},methods:{...(0,l.nv)({setPollCombo:"settings/setPollCombo",verifyPolls:"combo/verifyPollsFromSettings"})}};const j=(0,B.Z)(z,i,[],!1,null,null,null).exports},77745:(t,e,o)=>{o.d(e,{Z:()=>n});const n=o(82869).Z},53729:(t,e,o)=>{o.d(e,{s:()=>n.s,x:()=>n.x});var n=o(24274)}}]);
//# sourceMappingURL=polls-src_js_views_Combo_vue.js.map?v=30fd2188644d5b699901