"use strict";(self.webpackChunkpolls=self.webpackChunkpolls||[]).push([["node_modules_vue-material-design-icons_Minus_vue-node_modules_vue-material-design-icons_Plus_-12aefa"],{13772:(t,e,n)=>{n.d(e,{Z:()=>l});var o=n(87537),i=n.n(o),r=n(23645),s=n.n(r)()(i());s.push([t.id,".material-design-icon.delete-icon,.material-design-icon.undo-icon{cursor:pointer}.material-design-icon.delete-icon:hover{color:var(--color-error-hover)}.material-design-icon.arrow-u-left-top-icon{visibility:visible !important}","",{version:3,sources:["webpack://./src/js/components/Actions/ActionDelete.vue"],names:[],mappings:"AAGC,kEAEC,cAAA,CAGD,wCACC,8BAAA,CAED,4CAEC,6BAAA",sourcesContent:["\n.material-design-icon {\n\n\t&.delete-icon,\n\t&.undo-icon {\n\t\tcursor: pointer;\n\t}\n\n\t&.delete-icon:hover {\n\t\tcolor: var(--color-error-hover);\n\t}\n\t&.arrow-u-left-top-icon {\n\t\t/* force the undo icon always to be visible */\n\t\tvisibility: visible !important;\n\t}\n}\n"],sourceRoot:""}]);const l=s},20083:(t,e,n)=>{n.d(e,{Z:()=>l});var o=n(87537),i=n.n(o),r=n(23645),s=n.n(r)()(i());s.push([t.id,".comment-add{margin-bottom:24px;display:flex}.comment-add .comment-add__input{margin-left:8px;flex:1;align-items:center}","",{version:3,sources:["webpack://./src/js/components/Comments/CommentAdd.vue"],names:[],mappings:"AACA,aACC,kBAAA,CACA,YAAA,CACA,iCACC,eAAA,CACA,MAAA,CACA,kBAAA",sourcesContent:["\n.comment-add {\n\tmargin-bottom: 24px;\n\tdisplay: flex;\n\t.comment-add__input {\n\t\tmargin-left: 8px;\n\t\tflex: 1;\n\t\talign-items: center;\n\t}\n}\n"],sourceRoot:""}]);const l=s},319:(t,e,n)=>{n.d(e,{Z:()=>l});var o=n(87537),i=n.n(o),r=n(23645),s=n.n(r)()(i());s.push([t.id,'.comment-item{display:flex;align-items:start;margin-bottom:24px}.comment-item__user{font-weight:600;font-size:.9em}.comment-item__date{opacity:.5;font-size:.8em;text-align:right}.comment-item__date::before{content:" ~ "}.comment-item__content{margin-left:8px;flex:1 1;padding-top:2px}.comment-item__content .material-design-icon{visibility:hidden}.comment-item__content .comment-item__subcomment{display:flex;align-items:center}.comment-item__content .comment-item__subcomment:hover{background:var(--color-background-hover)}.comment-item__content .comment-item__subcomment:hover .material-design-icon{visibility:visible}.comment-item__content .comment-item__comment{hyphens:auto;flex:1}.comment-item__content .comment-item__comment a{text-decoration-line:underline}.alternativestyle .comment-item{flex-direction:row-reverse}.alternativestyle .comment-item.currentuser{flex-direction:row}.alternativestyle .comment-item__content{border:solid 1px var(--color-primary-element-light);border-radius:var(--border-radius-large);background-color:var(--color-primary-element-light);box-shadow:2px 2px 6px var(--color-box-shadow);padding-left:8px;padding-bottom:10px}.alternativestyle .comment-item__content .comment-item__subcomment{margin-right:4px}.alternativestyle .comment-item__content .comment-item__subcomment:hover{background:var(--color-primary-element-hover);color:var(--color-primary-element-light-hover);margin-left:-4px;padding-left:4px;border-radius:var(--border-radius-large)}',"",{version:3,sources:["webpack://./src/js/components/Comments/CommentItem.vue"],names:[],mappings:"AACA,cACC,YAAA,CACA,iBAAA,CACA,kBAAA,CAGD,oBACC,eAAA,CACA,cAAA,CAGD,oBACC,UAAA,CACA,cAAA,CACA,gBAAA,CACA,4BACC,aAAA,CAIF,uBACC,eAAA,CACA,QAAA,CACA,eAAA,CAEA,6CACC,iBAAA,CAGD,iDACC,YAAA,CACA,kBAAA,CAEA,uDACC,wCAAA,CACA,6EACC,kBAAA,CAKH,8CACC,YAAA,CACA,MAAA,CACA,gDACC,8BAAA,CAOF,gCACA,0BAAA,CACC,4CACC,kBAAA,CAIF,yCACC,mDAAA,CACA,wCAAA,CACA,mDAAA,CACA,8CAAA,CACA,gBAAA,CACA,mBAAA,CAEA,mEACC,gBAAA,CAEA,yEACC,6CAAA,CACA,8CAAA,CACA,gBAAA,CACA,gBAAA,CACA,wCAAA",sourcesContent:["\n.comment-item {\n\tdisplay: flex;\n\talign-items: start;\n\tmargin-bottom: 24px;\n}\n\n.comment-item__user {\n\tfont-weight: 600;\n\tfont-size: 0.9em;\n}\n\n.comment-item__date {\n\topacity: 0.5;\n\tfont-size: 0.8em;\n\ttext-align: right;\n\t&::before {\n\t\tcontent: ' ~ '\n\t}\n}\n\n.comment-item__content {\n\tmargin-left: 8px;\n\tflex: 1 1;\n\tpadding-top: 2px;\n\n\t.material-design-icon {\n\t\tvisibility: hidden;\n\t}\n\n\t.comment-item__subcomment {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\n\t\t&:hover {\n\t\t\tbackground: var(--color-background-hover);\n\t\t\t.material-design-icon {\n\t\t\t\tvisibility: visible;\n\t\t\t}\n\t\t}\n\t}\n\n\t.comment-item__comment {\n\t\thyphens: auto;\n\t\tflex: 1;\n\t\ta {\n\t\t\ttext-decoration-line: underline;\n\t\t}\n\t}\n}\n\n// experimental\n.alternativestyle {\n\t.comment-item {\n\tflex-direction: row-reverse;\n\t\t&.currentuser {\n\t\t\tflex-direction: row;\n\t\t}\n\t}\n\n\t.comment-item__content {\n\t\tborder: solid 1px var(--color-primary-element-light);\n\t\tborder-radius: var(--border-radius-large);\n\t\tbackground-color: var(--color-primary-element-light);\n\t\tbox-shadow: 2px 2px 6px var(--color-box-shadow);\n\t\tpadding-left: 8px;\n\t\tpadding-bottom: 10px;\n\n\t\t.comment-item__subcomment {\n\t\t\tmargin-right: 4px;\n\n\t\t\t&:hover {\n\t\t\t\tbackground: var(--color-primary-element-hover);\n\t\t\t\tcolor: var(--color-primary-element-light-hover);\n\t\t\t\tmargin-left: -4px;\n\t\t\t\tpadding-left: 4px;\n\t\t\t\tborder-radius: var(--border-radius-large);\n\t\t\t}\n\t\t}\n\t}\n}\n\n"],sourceRoot:""}]);const l=s},4984:(t,e,n)=>{n.d(e,{Z:()=>r});var o=function(){var t=this,e=t._self._c;return e("span",t._b({staticClass:"material-design-icon arrow-u-left-top-icon",attrs:{"aria-hidden":!t.title,"aria-label":t.title,role:"img"},on:{click:function(e){return t.$emit("click",e)}}},"span",t.$attrs,!1),[e("svg",{staticClass:"material-design-icon__svg",attrs:{fill:t.fillColor,width:t.size,height:t.size,viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M20 13.5C20 17.09 17.09 20 13.5 20H6V18H13.5C16 18 18 16 18 13.5S16 9 13.5 9H7.83L10.91 12.09L9.5 13.5L4 8L9.5 2.5L10.92 3.91L7.83 7H13.5C17.09 7 20 9.91 20 13.5Z"}},[t.title?e("title",[t._v(t._s(t.title))]):t._e()])])])};o._withStripped=!0;const i={name:"ArrowULeftTopIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};const r=(0,n(51900).Z)(i,o,[],!1,null,null,null).exports},50171:(t,e,n)=>{n.d(e,{Z:()=>r});var o=function(){var t=this,e=t._self._c;return e("span",t._b({staticClass:"material-design-icon delete-icon",attrs:{"aria-hidden":!t.title,"aria-label":t.title,role:"img"},on:{click:function(e){return t.$emit("click",e)}}},"span",t.$attrs,!1),[e("svg",{staticClass:"material-design-icon__svg",attrs:{fill:t.fillColor,width:t.size,height:t.size,viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z"}},[t.title?e("title",[t._v(t._s(t.title))]):t._e()])])])};o._withStripped=!0;const i={name:"DeleteIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};const r=(0,n(51900).Z)(i,o,[],!1,null,null,null).exports},25660:(t,e,n)=>{n.d(e,{Z:()=>r});var o=n(42672),i=n(94878);const r=(0,n(51900).Z)(i.Z,o.s,o.x,!1,null,null,null).exports},84373:(t,e,n)=>{n.d(e,{Z:()=>o});const o={name:"MinusIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}}},99270:(t,e,n)=>{n.d(e,{Z:()=>r});var o=n(65120),i=n(88041);const r=(0,n(51900).Z)(i.Z,o.s,o.x,!1,null,null,null).exports},26959:(t,e,n)=>{n.d(e,{Z:()=>o});const o={name:"PlusIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}}},25919:(e,o,i)=>{i.d(o,{Z:()=>w});var r=function(){var t=this,e=t._self._c;return e("div",{},[e("NcButton",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.computedTitle,expression:"computedTitle"}],attrs:{type:"tertiary","aria-label":t.computedTitle},scopedSlots:t._u([{key:"icon",fn:function(){return[t.deleteTimeout?e("UndoIcon",{attrs:{size:t.iconSize},on:{click:function(e){return t.cancelDelete()}}}):e("DeleteIcon",{attrs:{size:t.iconSize},on:{click:function(e){return t.deleteItem()}}})]},proxy:!0}])})],1)};r._withStripped=!0;var s=i(15961),l=i(50171),m=i(4984);const a={name:"ActionDelete",components:{DeleteIcon:l.Z,UndoIcon:m.Z,NcButton:s.P2},props:{timeout:{type:Number,default:4},title:{type:String,default:t("polls","Delete")},iconSize:{type:Number,default:20}},data:()=>({deleteInterval:null,deleteTimeout:null,countdown:4}),computed:{countdownTitle(){return n("polls","Deleting in {countdown} second","Deleting in {countdown} seconds",this.countdown,{countdown:this.countdown})},computedTitle(){return this.deleteTimeout?this.countdownTitle:this.title}},methods:{deleteItem(){this.countDown=this.timeout,this.deleteInterval=setInterval((()=>{this.countdown-=1,this.countdown<0&&(this.countdown=0)}),1e3),this.deleteTimeout=setTimeout((()=>{this.$emit("delete"),this.deleteTimeout=null,this.deleteInterval=null,this.countdown=this.timeout}),1e3*this.timeout)},cancelDelete(){clearTimeout(this.deleteTimeout),clearInterval(this.deleteInterval),this.deleteTimeout=null,this.deleteInterval=null,this.countdown=this.timeout}}};var c=i(93379),d=i.n(c),u=i(7795),A=i.n(u),p=i(90569),C=i.n(p),_=i(3565),v=i.n(_),h=i(19216),g=i.n(h),f=i(44589),b=i.n(f),y=i(13772),x={};x.styleTagTransform=b(),x.setAttributes=v(),x.insert=C().bind(null,"head"),x.domAPI=A(),x.insertStyleElement=g();d()(y.Z,x);y.Z&&y.Z.locals&&y.Z.locals;const w=(0,i(51900).Z)(a,r,[],!1,null,null,null).exports},65615:(e,n,o)=>{o.r(n),o.d(n,{default:()=>$});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"comments"},[t.acl.allowComment?e("CommentAdd"):t._e(),t.showEmptyContent?e("NcEmptyContent",{attrs:{title:t.t("polls","No comments")},scopedSlots:t._u([{key:"icon",fn:function(){return[e("CommentsIcon")]},proxy:!0},{key:"action",fn:function(){return[t._v(" "+t._s(t.t("polls","Be the first."))+" ")]},proxy:!0}])}):e("Comments")],1)};i._withStripped=!0;var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"comment-add"},[e("UserItem",t._b({attrs:{"hide-names":""}},"UserItem",t.acl,!1)),e("InputDiv",{staticClass:"comment-add__input",attrs:{placeholder:t.t("polls","New comment …"),submit:""},on:{submit:function(e){return t.writeComment()}},model:{value:t.comment,callback:function(e){t.comment=e},expression:"comment"}})],1)};r._withStripped=!0;var s=o(20629),l=o(64024);const m={name:"CommentAdd",components:{InputDiv:o(34461).Z},data:()=>({comment:""}),computed:{...(0,s.rn)({acl:t=>t.poll.acl})},methods:{async writeComment(){if(this.comment)try{await this.$store.dispatch("comments/add",{message:this.comment}),this.comment=""}catch{(0,l.x2)(t("polls","Error while saving comment"))}}}};var a=o(93379),c=o.n(a),d=o(7795),u=o.n(d),A=o(90569),p=o.n(A),C=o(3565),_=o.n(C),v=o(19216),h=o.n(v),g=o(44589),f=o.n(g),b=o(20083),y={};y.styleTagTransform=f(),y.setAttributes=_(),y.insert=p().bind(null,"head"),y.domAPI=u(),y.insertStyleElement=h();c()(b.Z,y);b.Z&&b.Z.locals&&b.Z.locals;var x=o(51900);const w=(0,x.Z)(m,r,[],!1,null,null,null).exports;var Z=function(){var t=this,e=t._self._c;return e("transition-group",{class:["comments",{alternativestyle:t.commentStyling}],attrs:{name:"fade",tag:"ul"}},t._l(t.sortedList,(function(t){return e("CommentItem",{key:t.id,attrs:{comment:t,tag:"li"}})})),1)};Z._withStripped=!0;var k=o(96486),I=function(){var t=this,e=t._self._c;return e("div",{class:["comment-item",{currentuser:t.isCurrentUser}]},[e("UserItem",t._b({attrs:{"hide-names":""}},"UserItem",t.comment.user,!1)),e("div",{staticClass:"comment-item__content"},[e("span",{staticClass:"comment-item__user"},[t._v(t._s(t.comment.user.displayName))]),e("span",{staticClass:"comment-item__date"},[t._v(t._s(t.dateCommentedRelative))]),t._l(t.comment.subComments,(function(n){return e("div",{key:n.id,staticClass:"comment-item__subcomment"},[e("span",{staticClass:"comment-item__comment",domProps:{innerHTML:t._s(t.linkify(n.comment))}}),t.comment.user.userId===t.acl.userId||t.acl.isOwner?e("ActionDelete",{attrs:{title:t.t("polls","Delete comment")},on:{delete:function(e){return t.deleteComment(n)}}}):t._e()],1)}))],2)],1)};I._withStripped=!0;var S=o(80351),B=o.n(S),D=o(50337);const T={name:"CommentItem",components:{ActionDelete:o(25919).Z},props:{comment:{type:Object,default:null}},computed:{...(0,s.rn)({acl:t=>t.poll.acl,currentUser:t=>t.poll.acl.userId}),dateCommentedRelative(){return B().unix(this.comment.timestamp).fromNow()},isCurrentUser(){return this.currentUser===this.comment.user.userId}},methods:{linkify:t=>(0,D.default)(t),async deleteComment(e){try{await this.$store.dispatch({type:"comments/delete",comment:e})}catch{(0,l.x2)(t("polls","Error while deleting the comment"))}}}};var z=o(319),E={};E.styleTagTransform=f(),E.setAttributes=_(),E.insert=p().bind(null,"head"),E.domAPI=u(),E.insertStyleElement=h();c()(z.Z,E);z.Z&&z.Z.locals&&z.Z.locals;const H={name:"Comments",components:{CommentItem:(0,x.Z)(T,I,[],!1,null,null,null).exports},data:()=>({sort:"timestamp",reverse:!0}),computed:{...(0,s.rn)({comments:t=>t.comments.list,commentStyling:t=>t.settings.user.useCommentsAlternativeStyling}),sortedList(){return this.reverse?(0,k.sortBy)(this.comments,this.sort).reverse():(0,k.sortBy)(this.comments,this.sort)}}};const N=(0,x.Z)(H,Z,[],!1,null,null,null).exports;var L=o(15961),U=o(96270);const V={name:"SideBarTabComments",components:{CommentAdd:w,Comments:N,NcEmptyContent:L.SL,CommentsIcon:U.Z},computed:{...(0,s.rn)({acl:t=>t.poll.acl}),...(0,s.Se)({countComments:"comments/count"}),showEmptyContent(){return 0===this.countComments}}};const $=(0,x.Z)(V,i,[],!1,null,null,null).exports},94878:(t,e,n)=>{n.d(e,{Z:()=>o});const o=n(84373).Z},88041:(t,e,n)=>{n.d(e,{Z:()=>o});const o=n(26959).Z},42672:(t,e,n)=>{n.d(e,{s:()=>o.s,x:()=>o.x});var o=n(12034)},65120:(t,e,n)=>{n.d(e,{s:()=>o.s,x:()=>o.x});var o=n(25195)},12034:(t,e,n)=>{n.d(e,{s:()=>o,x:()=>i});var o=function(){var t=this,e=t._self._c;return e("span",t._b({staticClass:"material-design-icon minus-icon",attrs:{"aria-hidden":!t.title,"aria-label":t.title,role:"img"},on:{click:function(e){return t.$emit("click",e)}}},"span",t.$attrs,!1),[e("svg",{staticClass:"material-design-icon__svg",attrs:{fill:t.fillColor,width:t.size,height:t.size,viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M19,13H5V11H19V13Z"}},[t.title?e("title",[t._v(t._s(t.title))]):t._e()])])])},i=[];o._withStripped=!0},25195:(t,e,n)=>{n.d(e,{s:()=>o,x:()=>i});var o=function(){var t=this,e=t._self._c;return e("span",t._b({staticClass:"material-design-icon plus-icon",attrs:{"aria-hidden":!t.title,"aria-label":t.title,role:"img"},on:{click:function(e){return t.$emit("click",e)}}},"span",t.$attrs,!1),[e("svg",{staticClass:"material-design-icon__svg",attrs:{fill:t.fillColor,width:t.size,height:t.size,viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z"}},[t.title?e("title",[t._v(t._s(t.title))]):t._e()])])])},i=[];o._withStripped=!0}}]);
//# sourceMappingURL=polls-node_modules_vue-material-design-icons_Minus_vue-node_modules_vue-material-design-icons_Plus_-12aefa.js.map?v=8a06ab21a886a3e31888