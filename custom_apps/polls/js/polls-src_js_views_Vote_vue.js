"use strict";(self.webpackChunkpolls=self.webpackChunkpolls||[]).push([["src_js_views_Vote_vue"],{62144:(t,e,n)=>{n.d(e,{Z:()=>a});var o=n(87537),s=n.n(o),i=n(23645),l=n.n(i)()(s());l.push([t.id,".action.send-confirmations{display:flex;flex-wrap:wrap;gap:44px}.confirmation-result{display:flex}.confirmation-info{display:flex;flex-wrap:wrap;flex:auto;gap:12px}.sent-confirmations{flex:auto}.error-confirmations{flex:auto}","",{version:3,sources:["webpack://./src/js/components/Actions/ActionSendConfirmedOptions.vue"],names:[],mappings:"AACA,2BACC,YAAA,CACA,cAAA,CACA,QAAA,CAGD,qBACC,YAAA,CAGD,mBACC,YAAA,CACA,cAAA,CACA,SAAA,CACA,QAAA,CAGD,oBACC,SAAA,CAGD,qBACC,SAAA",sourcesContent:["\n.action.send-confirmations {\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\tgap: 44px;\n}\n\n.confirmation-result {\n\tdisplay: flex;\n}\n\n.confirmation-info {\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\tflex: auto;\n\tgap: 12px;\n}\n\n.sent-confirmations {\n\tflex: auto;\n}\n\n.error-confirmations {\n\tflex: auto;\n}\n"],sourceRoot:""}]);const a=l},98701:(t,e,n)=>{n.d(e,{Z:()=>a});var o=n(87537),s=n.n(o),i=n(23645),l=n.n(i)()(s());l.push([t.id,".page--scrolled .header_bar_bottom{display:none}.header_bar .header_bar_top{display:flex;flex-wrap:wrap-reverse;justify-content:flex-end;gap:8px;min-height:3em}.header_bar .header_bar_top .bar_top_left{display:flex;flex-direction:column;flex:1 180px;justify-content:center}.header_bar .header_bar_top .header_title{font-weight:bold;font-size:1em;line-height:1.5em;overflow:hidden;text-overflow:ellipsis;display:-webkit-box}.header_bar .header_bar_top .header_title.clamped{-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical}.header_bar .header_bar_top .sub{display:flex;flex-wrap:wrap}.header_bar .header_bar_top .header_bar_bottom{display:flex;margin-bottom:16px}.header_bar [class*=bar_]{flex:0}","",{version:3,sources:["webpack://./src/js/components/Base/HeaderBar.vue"],names:[],mappings:"AACA,mCACC,YAAA,CAIA,4BACC,YAAA,CACA,sBAAA,CACA,wBAAA,CACA,OAAA,CACA,cAAA,CAEA,0CACC,YAAA,CACA,qBAAA,CACA,YAAA,CACA,sBAAA,CAGD,0CACC,gBAAA,CACA,aAAA,CACA,iBAAA,CACA,eAAA,CACA,sBAAA,CACA,mBAAA,CACA,kDACC,oBAAA,CACA,YAAA,CACA,2BAAA,CAGF,iCACC,YAAA,CACA,cAAA,CAED,+CACC,YAAA,CACA,kBAAA,CAIF,0BACC,MAAA",sourcesContent:['\n.page--scrolled .header_bar_bottom {\n\tdisplay: none;\n}\n\n.header_bar {\n\t.header_bar_top {\n\t\tdisplay: flex;\n\t\tflex-wrap: wrap-reverse;\n\t\tjustify-content: flex-end;\n\t\tgap: 8px;\n\t\tmin-height: 3em;\n\n\t\t.bar_top_left {\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\tflex: 1 180px;\n\t\t\tjustify-content: center;\n\t\t}\n\n\t\t.header_title {\n\t\t\tfont-weight: bold;\n\t\t\tfont-size: 1em;\n\t\t\tline-height: 1.5em;\n\t\t\toverflow: hidden;\n\t\t\ttext-overflow: ellipsis;\n\t\t\tdisplay: -webkit-box;\n\t\t\t&.clamped {\n\t\t\t\t-webkit-line-clamp: 2;\n\t\t\t\tline-clamp: 2;\n\t\t\t\t-webkit-box-orient: vertical;\n\t\t\t}\n\t\t}\n\t\t.sub {\n\t\t\tdisplay: flex;\n\t\t\tflex-wrap: wrap;\n\t\t}\n\t\t.header_bar_bottom {\n\t\t\tdisplay: flex;\n\t\t\tmargin-bottom: 16px;\n\t\t}\n\t}\n\n\t[class*="bar_"] {\n\t\tflex: 0;\n\t}\n}\n'],sourceRoot:""}]);const a=l},18255:(t,e,n)=>{n.d(e,{Z:()=>a});var o=n(87537),s=n.n(o),i=n(23645),l=n.n(i)()(s());l.push([t.id,".markup-description *{margin:revert;padding:revert;font-size:revert;text-decoration:revert;list-style:revert;opacity:revert;min-height:revert}.markup-description table{border-spacing:2px}.markup-description thead{background-color:var(--color-background-darker);color:var(--color-main-text)}.markup-description td,.markup-description th{padding:1px 4px}","",{version:3,sources:["webpack://./src/js/components/Poll/MarkUpDescription.vue"],names:[],mappings:"AAEA,sBACC,aAAA,CACA,cAAA,CACA,gBAAA,CACA,sBAAA,CACA,iBAAA,CACA,cAAA,CACA,iBAAA,CAIA,0BACC,kBAAA,CAGD,0BACC,+CAAA,CACA,4BAAA,CAGD,8CACC,eAAA",sourcesContent:["\n\n.markup-description * {\n\tmargin: revert;\n\tpadding: revert;\n\tfont-size: revert;\n\ttext-decoration: revert;\n\tlist-style: revert;\n\topacity: revert;\n\tmin-height: revert;\n}\n\n.markup-description {\n\ttable {\n\t\tborder-spacing: 2px;\n\t}\n\n\tthead {\n\t\tbackground-color: var(--color-background-darker);\n\t\tcolor: var(--color-main-text);\n\t}\n\n\ttd, th {\n\t\tpadding: 1px 4px;\n\t}\n}\n"],sourceRoot:""}]);const a=l},89988:(t,e,n)=>{n.d(e,{Z:()=>a});var o=n(87537),s=n.n(o),i=n(23645),l=n.n(i)()(s());l.push([t.id,".poll-header-buttons{display:flex;flex:0;justify-content:flex-end;align-self:flex-end;border-radius:var(--border-radius-pill)}.icon.icon-settings.active{display:block;width:44px;height:44px}","",{version:3,sources:["webpack://./src/js/components/Poll/PollHeaderButtons.vue"],names:[],mappings:"AACA,qBACC,YAAA,CACA,MAAA,CACA,wBAAA,CACA,mBAAA,CACA,uCAAA,CAGD,2BACC,aAAA,CACA,UAAA,CACA,WAAA",sourcesContent:["\n.poll-header-buttons {\n\tdisplay: flex;\n\tflex: 0;\n\tjustify-content: flex-end;\n\talign-self: flex-end;\n\tborder-radius: var(--border-radius-pill);\n}\n\n.icon.icon-settings.active {\n\tdisplay: block;\n\twidth: 44px;\n\theight: 44px;\n}\n\n"],sourceRoot:""}]);const a=l},63541:(t,e,n)=>{n.d(e,{Z:()=>a});var o=n(87537),s=n.n(o),i=n(23645),l=n.n(i)()(s());l.push([t.id,'.poll-info-line{display:flex;flex-wrap:wrap;opacity:.7;font-size:1em}.poll-info-line .material-design-icon{padding:0 2px}.poll-info-line .sub-text{display:flex}.poll-info-line>span:not(:last-child)::after{content:"|";padding:0 2px}.poll-info-line .closed .sub-text,.poll-info-line .archived .sub-text{color:var(--color-error);font-weight:700}.poll-info-line .unpublished .sub-text,.poll-info-line .open .sub-text{font-weight:700}.poll-info-line .closing .sub-text{color:var(--color-warning);font-weight:700}.poll-info-line .created .sub-text{color:var(--color-main-text)}',"",{version:3,sources:["webpack://./src/js/components/Poll/PollInfoLine.vue"],names:[],mappings:"AACA,gBACC,YAAA,CACA,cAAA,CACA,UAAA,CACA,aAAA,CAEA,sCACC,aAAA,CAGD,0BACC,YAAA,CAGD,6CACC,WAAA,CACA,aAAA,CAIA,sEACC,wBAAA,CACA,eAAA,CAKD,uEACC,eAAA,CAKD,mCACC,0BAAA,CACA,eAAA,CAKD,mCACC,4BAAA",sourcesContent:['\n.poll-info-line {\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\topacity: 0.7;\n\tfont-size: 1em;\n\n\t.material-design-icon {\n\t\tpadding: 0 2px;\n\t}\n\n\t.sub-text {\n\t\tdisplay: flex;\n\t}\n\n\t& > span:not(:last-child)::after {\n\t\tcontent: "|";\n\t\tpadding: 0 2px;\n\t}\n\n\t.closed, .archived {\n\t\t.sub-text{\n\t\t\tcolor: var(--color-error);\n\t\t\tfont-weight: 700;\n\t\t}\n\t}\n\n\t.unpublished, .open {\n\t\t.sub-text{\n\t\t\tfont-weight: 700;\n\t\t}\n\t}\n\n\t.closing {\n\t\t.sub-text{\n\t\t\tcolor: var(--color-warning);\n\t\t\tfont-weight: 700;\n\t\t}\n\t}\n\n\t.created {\n\t\t.sub-text{\n\t\t\tcolor: var(--color-main-text);\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const a=l},55628:(t,e,n)=>{n.d(e,{Z:()=>a});var o=n(87537),s=n.n(o),i=n(23645),l=n.n(i)()(s());l.push([t.id,".vote_main{display:flex;flex-direction:column;row-gap:8px}.vote_head{display:flex;flex-wrap:wrap-reverse;justify-content:flex-end}.vote_head .poll-title{flex:1 270px}.area__main{display:flex;flex-direction:column}.app-content .area__header{transition:all var(--animation-slow) linear}.app-content.scrolled .area__header{box-shadow:6px 6px 6px var(--color-box-shadow)}.area__proposal .mx-input-wrapper>button{width:initial}.icon.icon-settings.active{display:block;width:44px;height:44px}","",{version:3,sources:["webpack://./src/js/views/Vote.vue"],names:[],mappings:"AACA,WACC,YAAA,CACA,qBAAA,CACA,WAAA,CAGD,WACC,YAAA,CACA,sBAAA,CACA,wBAAA,CACA,uBACC,YAAA,CAIF,YACC,YAAA,CACA,qBAAA,CAGD,2BACC,2CAAA,CAGD,oCACC,8CAAA,CAGD,yCACC,aAAA,CAGD,2BACC,aAAA,CACA,UAAA,CACA,WAAA",sourcesContent:["\n.vote_main {\n\tdisplay: flex;\n\tflex-direction: column;\n\trow-gap: 8px;\n}\n\n.vote_head {\n\tdisplay: flex;\n\tflex-wrap: wrap-reverse;\n\tjustify-content: flex-end;\n\t.poll-title {\n\t\tflex: 1 270px;\n\t}\n}\n\n.area__main {\n\tdisplay: flex;\n\tflex-direction: column;\n}\n\n.app-content .area__header {\n\ttransition: all var(--animation-slow) linear;\n}\n\n.app-content.scrolled .area__header {\n\tbox-shadow: 6px 6px 6px var(--color-box-shadow);\n}\n\n.area__proposal .mx-input-wrapper > button {\n\twidth: initial;\n}\n\n.icon.icon-settings.active {\n\tdisplay: block;\n\twidth: 44px;\n\theight: 44px;\n}\n"],sourceRoot:""}]);const a=l},37597:(e,n,o)=>{o.d(n,{Z:()=>r});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"action toggle-sidebar"},[e("NcButton",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.caption,expression:"caption"}],attrs:{"aria-label":t.caption,type:"tertiary"},on:{click:function(e){return t.clickAction()}},scopedSlots:t._u([{key:"icon",fn:function(){return[e("SidebarIcon")]},proxy:!0}])})],1)};s._withStripped=!0;var i=o(15961),l=o(69183);const a={name:"ActionToggleSidebar",components:{SidebarIcon:o(71109).Z,NcButton:i.P2},data:()=>({caption:t("polls","Toggle Sidebar")}),methods:{clickAction(){(0,l.j8)("polls:sidebar:toggle")}}};const r=(0,o(51900).Z)(a,s,[],!1,null,null,null).exports},1410:(t,e,n)=>{n.d(e,{Z:()=>v});var o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"header_bar"},[e("div",{staticClass:"header_bar_top"},[e("div",{staticClass:"bar_top_left"},[e("div",{class:["header_title",{clamped:t.clamped}],on:{click:function(e){return t.toggleClamp()}}},[t._t("title")],2),e("div",{staticClass:"bar_top_left_sub"},[t._t("sub")],2)]),e("div",{staticClass:"bar_top_right"},[t._t("right")],2)]),e("div",{staticClass:"header_bar_bottom"},[t._t("default")],2)])};o._withStripped=!0;const s={name:"HeaderBar",data:()=>({clamped:!0}),methods:{toggleClamp(){this.clamped=!this.clamped}}};var i=n(93379),l=n.n(i),a=n(7795),r=n.n(a),p=n(90569),c=n.n(p),d=n(3565),A=n.n(d),u=n(19216),C=n.n(u),m=n(44589),h=n.n(m),_=n(98701),f={};f.styleTagTransform=h(),f.setAttributes=A(),f.insert=c().bind(null,"head"),f.domAPI=r(),f.insertStyleElement=C();l()(_.Z,f);_.Z&&_.Z.locals&&_.Z.locals;const v=(0,n(51900).Z)(s,o,[],!1,null,null,null).exports},86761:(t,e,n)=>{n.d(e,{Z:()=>B});var o=function(){var t=this;return(0,t._self._c)("div",{staticClass:"markup-description",domProps:{innerHTML:t._s(t.markedDescription)}})};o._withStripped=!0;var s=n(87441),i=n(83610),l=n(9309),a=n(27856),r=n.n(a),p=n(20629);const c={prefix:"desc-"},d={name:"MarkUpDescription",computed:{...(0,p.rn)({description:t=>t.poll.descriptionSafe}),markedDescription(){return s.TU.use((0,l.u)(c)),s.TU.use((0,i.d)()),r().sanitize(s.TU.parse(this.description))}}};var A=n(93379),u=n.n(A),C=n(7795),m=n.n(C),h=n(90569),_=n.n(h),f=n(3565),v=n.n(f),x=n(19216),b=n.n(x),w=n(44589),g=n.n(w),y=n(18255),k={};k.styleTagTransform=g(),k.setAttributes=v(),k.insert=_().bind(null,"head"),k.domAPI=m(),k.insertStyleElement=b();u()(y.Z,k);y.Z&&y.Z.locals&&y.Z.locals;const B=(0,n(51900).Z)(d,o,[],!1,null,null,null).exports},82360:(e,n,o)=>{o.r(n),o.d(n,{default:()=>et});var s=function(){var t=this,e=t._self._c;return e("NcAppContent",{class:[{closed:t.closed,scrolled:t.scrolled,"vote-style-beta-510":t.settings.user.useAlternativeStyling},t.poll.type]},[e("HeaderBar",{staticClass:"area__header",scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" "+t._s(t.poll.title)+" ")]},proxy:!0},{key:"right",fn:function(){return[e("PollHeaderButtons")]},proxy:!0}])},[e("PollInfoLine")],1),e("div",{staticClass:"vote_main"},[t.poll.description?e("div",{staticClass:"area__description"},[e("MarkUpDescription")],1):t._e(),t.acl.allowAddOptions&&t.proposalsOpen&&!t.closed?e("div",{staticClass:"area__proposal"},[e("OptionProposals")],1):t._e(),t.showConfirmationMail?e("div",{staticClass:"area__confirmation"},[e("ActionSendConfirmedOptions")],1):t._e(),e("div",{staticClass:"area__main",class:t.viewMode},[e("VoteTable",{directives:[{name:"show",rawName:"v-show",value:t.options.length,expression:"options.length"}],attrs:{"view-mode":t.viewMode}}),t.options.length?t._e():e("NcEmptyContent",{attrs:{title:t.t("polls","No vote options available")},scopedSlots:t._u([{key:"icon",fn:function(){return["textPoll"===t.poll.type?e("TextPollIcon"):e("DatePollIcon")]},proxy:!0},{key:"action",fn:function(){return[t.acl.allowEdit?e("NcButton",{attrs:{type:"primary"},on:{click:t.openOptions},scopedSlots:t._u([{key:"default",fn:function(){return[t._v(" "+t._s(t.t("polls","Add some!"))+" ")]},proxy:!0}],null,!1,3322588282)}):t._e(),t.acl.allowEdit?t._e():e("div",[t._v(" "+t._s(t.t("polls","Maybe the owner did not provide some until now."))+" ")])]},proxy:!0}],null,!1,947824592)})],1),t.countHiddenParticipants?e("div",{staticClass:"area__footer"},[e("h2",[t._v(" "+t._s(t.t("polls","Due to performance concerns {countHiddenParticipants} voters are hidden.",{countHiddenParticipants:t.countHiddenParticipants}))+" ")])]):t._e(),t.poll.anonymous?e("div",{staticClass:"area__footer"},[e("div",[t._v(" "+t._s(t.t("polls","Although participant's names are hidden, this is not a real anonymous poll because they are not hidden from the owner."))+" "+t._s(t.t("polls","Additionally the owner can remove the anonymous flag at any time, which will reveal the participant's names."))+" ")])]):t._e()]),t.showRegisterModal?e("PublicRegisterModal"):t._e(),t.isLoading?e("LoadingOverlay"):t._e()],1)};s._withStripped=!0;var i=o(20629),l=o(15961),a=o(69183),r=o(86761),p=function(){var t=this,e=t._self._c;return e("div",{staticClass:"poll-info-line"},t._l(t.subTexts,(function(n){return e("span",{key:n.id,class:["sub-text",n.class]},[e(n.iconComponent,{tag:"Component",attrs:{size:16}}),e("span",{staticClass:"sub-text"},[t._v(t._s(n.text))])],1)})),0)};p._withStripped=!0;var c=o(80351),d=o.n(c),A=o(90466),u=o(63651),C=o(94203),m=o(12810),h=o(48015),_=o(66477);const f={name:"PollInfoLine",computed:{...(0,i.rn)({access:t=>t.poll.access,title:t=>t.poll.title,expire:t=>t.poll.expire,isDeleted:t=>t.poll.deleted,ownerDisplayName:t=>t.poll.owner.displayName,pollCreated:t=>t.poll.created,mayEdit:t=>t.poll.acl.allowEdit}),...(0,i.Se)({isClosed:"poll/isClosed",hasShares:"shares/hasShares",proposalsExpirySet:"poll/proposalsExpirySet",proposalsExpired:"poll/proposalsExpired",proposalsExpireRelative:"poll/proposalsExpireRelative"}),isNoAccessSet(){return"private"===this.access&&!this.hasShares&&this.mayEdit},subTexts(){const e=[];return this.isDeleted?(e.push({id:"deleted",text:t("polls","Archived"),class:"archived",iconComponent:u.Z}),e):this.isNoAccessSet?(e.push({id:"no-access",text:[t("polls","This poll is unpublished"),t("polls","Invite users via the share tab in the sidebar")].join(". "),class:"unpublished",iconComponent:A.Z}),e):("private"===this.access?e.push({id:this.access,text:t("polls","A private poll from {name}",{name:this.ownerDisplayName}),class:"",iconComponent:null}):e.push({id:this.access,text:t("polls","An openly accessible poll from {name}",{name:this.ownerDisplayName}),class:"",iconComponent:null}),this.isClosed?(e.push({id:"closed",text:this.timeExpirationRelative,class:"closed",iconComponent:C.Z}),e):!this.isClosed&&this.expire?(e.push({id:"expiring",text:t("polls","Closing {relativeExpirationTime}",{relativeExpirationTime:this.timeExpirationRelative}),class:this.closeToClosing?"closing":"open",iconComponent:_.Z}),e):this.proposalsExpirySet&&this.proposalsExpired?(e.push({id:"expired",text:t("polls","Proposal period ended {timeRelative}",{timeRelative:this.proposalsExpireRelative}),class:"proposal",iconComponent:h.Z}),e):this.proposalsExpirySet&&!this.proposalsExpired?(e.push({id:"proposal-open",text:t("polls","Proposal period ends {timeRelative}",{timeRelative:this.proposalsExpireRelative}),class:"proposal",iconComponent:h.Z}),e):(e.length<2&&e.push({id:"created",text:this.dateCreatedRelative,class:"created",iconComponent:m.Z}),e))},dateCreatedRelative(){return d().unix(this.pollCreated).fromNow()},closeToClosing(){return!this.isClosed&&this.expire&&d().unix(this.expire).diff()<864e5},timeExpirationRelative(){return this.expire?d().unix(this.expire).fromNow():t("polls","never")}}};var v=o(93379),x=o.n(v),b=o(7795),w=o.n(b),g=o(90569),y=o.n(g),k=o(3565),B=o.n(k),P=o(19216),E=o.n(P),S=o(44589),Z=o.n(S),D=o(63541),T={};T.styleTagTransform=Z(),T.setAttributes=B(),T.insert=y().bind(null,"head"),T.domAPI=w(),T.insertStyleElement=E();x()(D.Z,T);D.Z&&D.Z.locals&&D.Z.locals;var I=o(51900);const j=(0,I.Z)(f,p,[],!1,null,null,null).exports;var N=function(){var t=this,e=t._self._c;return e("div",{staticClass:"poll-header-buttons"},[t.showUserMenu?e("UserMenu"):t._e(),e("NcPopover",{scopedSlots:t._u([{key:"trigger",fn:function(){return[e("NcButton",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.caption,expression:"caption"}],attrs:{"aria-label":t.caption,type:"tertiary"},scopedSlots:t._u([{key:"icon",fn:function(){return[e("PollInformationIcon")]},proxy:!0}])})]},proxy:!0}])},[e("PollInformation")],1),t.allowPollDownload?e("ExportPoll"):t._e(),t.allowEdit||t.allowComment?e("ActionToggleSidebar"):t._e()],1)};N._withStripped=!0;var M=o(37597),R=o(97914);const O={name:"PollHeaderButtons",components:{ActionToggleSidebar:M.Z,PollInformationIcon:R.Z,NcPopover:l.Fh,NcButton:l.P2,UserMenu:()=>o.e("src_js_components_User_UserMenu_vue").then(o.bind(o,30967)),ExportPoll:()=>Promise.all([o.e("vendors-node_modules_file-saver_dist_FileSaver_min_js-node_modules_vue-material-design-icons_-2c0e19"),o.e("src_js_components_Export_ExportPoll_vue")]).then(o.bind(o,80210)),PollInformation:()=>Promise.all([o.e("vendors-node_modules_vue-material-design-icons_AccountGroup_vue-node_modules_vue-material-des-273c70"),o.e("src_js_components_Poll_PollInformation_vue")]).then(o.bind(o,83056))},data:()=>({caption:t("polls","Poll informations")}),computed:{...(0,i.rn)({allowComment:t=>t.poll.allowComment,allowEdit:t=>t.poll.acl.allowEdit,allowVote:t=>t.poll.acl.allowVote,allowPollDownload:t=>t.poll.acl.allowPollDownload}),showUserMenu(){return"publicVote"!==this.$route.name||this.allowVote}},beforeDestroy(){this.$store.dispatch({type:"poll/reset"})}};var Y=o(89988),G={};G.styleTagTransform=Z(),G.setAttributes=B(),G.insert=y().bind(null,"head"),G.domAPI=w(),G.insertStyleElement=E();x()(Y.Z,G);Y.Z&&Y.Z.locals&&Y.Z.locals;const U=(0,I.Z)(O,N,[],!1,null,null,null).exports;var H=o(1410),L=o(26426),V=o(88388),z=function(){var t=this,e=t._self._c;return e("div",{staticClass:"action send-confirmations"},[e("div",{staticClass:"confirmation-button"},[e("h2",[t._v(t._s(t.headerCaption))]),e("NcButton",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.sendButtonCaption,expression:"sendButtonCaption"}],attrs:{"aria-label":t.sendButtonCaption},on:{click:function(e){return t.clickAction()}},scopedSlots:t._u([{key:"icon",fn:function(){return[e("EmailCheckIcon")]},proxy:!0},{key:"default",fn:function(){return[t._v(" "+t._s(t.t("polls","Send confirmation emails"))+" ")]},proxy:!0}])})],1),t.confirmations?e("div",{staticClass:"confirmation-info"},[t.confirmations.sent?e("div",{staticClass:"sent-confirmations"},[e("h2",[t._v(t._s(t.t("polls","Sent emails to:")))]),e("ul",t._l(t.confirmations.sent,(function(n){return e("li",{key:n},[t._v(" "+t._s(n)+" ")])})),0)]):t._e(),t.confirmations.error?e("div",{staticClass:"error-confirmations"},[e("h2",[t._v(t._s(t.t("polls","Emails could not be sent:")))]),e("ul",t._l(t.confirmations.error,(function(n){return e("li",{key:n},[t._v(" "+t._s(n)+" ")])})),0)]):t._e()]):t._e()])};z._withStripped=!0;var q=o(82689),W=o(64024),$=o(66037);const F={name:"ActionSendConfirmedOptions",components:{EmailCheckIcon:q.Z,NcButton:l.P2},data:()=>({sendButtonCaption:t("polls","Send information about confirmed options by email"),confirmations:null,headerCaption:t("polls","Inform your participants about the confirmed options")}),methods:{async clickAction(){try{this.confirmations=await $.e.sendConfirmation(this.$route.params.id)}catch(t){if("ERR_CANCELED"===(null==t?void 0:t.code))return}this.headerCaption=t("polls","Confirmations processed"),this.confirmations.sent.forEach((e=>{(0,W.s$)(t("polls","Confirmation sent to ".concat(e)))})),this.confirmations.error.forEach((e=>{(0,W.x2)(t("polls","Confirmation could not be sent to ".concat(e)))}))}}};var K=o(62144),Q={};Q.styleTagTransform=Z(),Q.setAttributes=B(),Q.insert=y().bind(null,"head"),Q.domAPI=w(),Q.insertStyleElement=E();x()(K.Z,Q);K.Z&&K.Z.locals&&K.Z.locals;const J={name:"Vote",components:{ActionSendConfirmedOptions:(0,I.Z)(F,z,[],!1,null,null,null).exports,NcAppContent:l.Mb,NcButton:l.P2,NcEmptyContent:l.SL,HeaderBar:H.Z,MarkUpDescription:r.Z,PollHeaderButtons:U,PollInfoLine:j,DatePollIcon:L.default,TextPollIcon:V.Z,LoadingOverlay:()=>o.e("src_js_components_Base_LoadingOverlay_vue").then(o.bind(o,95117)),OptionProposals:()=>o.e("src_js_components_Options_OptionProposals_vue").then(o.bind(o,62106)),PublicRegisterModal:()=>Promise.all([o.e("src_js_components_Base_InputDiv_vue"),o.e("node_modules_vue-material-design-icons_Minus_vue-node_modules_vue-material-design-icons_Plus_-ac849f")]).then(o.bind(o,93878)),VoteTable:()=>Promise.all([o.e("vendors-node_modules_vue-material-design-icons_AccountCheck_vue-node_modules_vue-material-des-e4d21e"),o.e("src_js_mixins_optionMixins_js-src_js_components_Actions_ActionDelete_vue-src_js_components_Op-6b087e"),o.e("src_js_components_VoteTable_VoteTable_vue")]).then(o.bind(o,42922))},data:()=>({isLoading:!1,scrolled:!1,scrollElement:null}),computed:{...(0,i.rn)({poll:t=>t.poll,acl:t=>t.poll.acl,share:t=>t.share,settings:t=>t.settings}),...(0,i.Se)({closed:"poll/isClosed",options:"options/rankedOptions",viewMode:"poll/viewMode",proposalsAllowed:"poll/proposalsAllowed",proposalsOpen:"poll/proposalsOpen",countHiddenParticipants:"poll/countHiddenParticipants",safeTable:"poll/safeTable",confirmedOptions:"options/confirmed"}),showConfirmationMail(){return this.acl.isOwner&&this.closed&&this.confirmedOptions.length>0},windowTitle(){return"".concat(t("polls","Polls")," - ").concat(this.poll.title)},showRegisterModal(){return"publicVote"===this.$route.name&&["public","email","contact"].includes(this.share.type)&&!this.closed&&this.poll.id}},mounted(){this.scrollElement=document.getElementById("app-content-vue"),this.scrollElement.addEventListener("scroll",this.handleScroll)},beforeDestroy(){this.scrollElement.removeEventListener("scroll",this.handleScroll),this.$store.dispatch({type:"poll/reset"})},methods:{handleScroll(){this.scrollElement.scrollTop>20?this.scrolled=!0:this.scrolled=!1},openOptions(){(0,a.j8)("polls:sidebar:toggle",{open:!0,activeTab:"options"})}}};var X=o(55628),tt={};tt.styleTagTransform=Z(),tt.setAttributes=B(),tt.insert=y().bind(null,"head"),tt.domAPI=w(),tt.insertStyleElement=E();x()(X.Z,tt);X.Z&&X.Z.locals&&X.Z.locals;const et=(0,I.Z)(J,s,[],!1,null,null,null).exports}}]);
//# sourceMappingURL=polls-src_js_views_Vote_vue.js.map?v=bf7d2310fe4203f77ff1