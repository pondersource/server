"use strict";(self.webpackChunkpolls=self.webpackChunkpolls||[]).push([["src_js_views_PollList_vue"],{82869:(t,e,l)=>{l.d(e,{Z:()=>i});const i={name:"PollsAppIcon",props:{title:{type:String,default:"Polls"},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}}},24274:(t,e,l)=>{l.d(e,{s:()=>i,x:()=>o});var i=function(){var t=this,e=t._self._c;return e("span",t._b({staticClass:"material-design-icon polls-app-icon",attrs:{"aria-hidden":!t.title,"aria-label":t.title,role:"img"},on:{click:function(e){return t.$emit("click",e)}}},"span",t.$attrs,!1),[e("svg",{staticClass:"material-design-icon__svg",attrs:{fill:t.fillColor,width:t.size,height:t.size,viewBox:"0 0 32 32"}},[e("g",{attrs:{fill:t.fillColor}},[e("rect",{attrs:{y:"2",x:"3",height:"26",width:"7"}}),e("rect",{attrs:{y:"12",x:"12",height:"16",width:"7"}}),e("rect",{attrs:{y:"8",x:"21",height:"20",width:"7"}}),t.title?e("title",[t._v(t._s(t.title))]):t._e()])])])},o=[];i._withStripped=!0},98701:(t,e,l)=>{l.d(e,{Z:()=>r});var i=l(87537),o=l.n(i),n=l(23645),s=l.n(n)()(o());s.push([t.id,".page--scrolled .header_bar_bottom{display:none}.header_bar .header_bar_top{display:flex;flex-wrap:wrap-reverse;justify-content:flex-end;gap:8px;min-height:3em}.header_bar .header_bar_top .bar_top_left{display:flex;flex-direction:column;flex:1 180px;justify-content:center}.header_bar .header_bar_top .header_title{font-weight:bold;font-size:1em;line-height:1.5em;overflow:hidden;text-overflow:ellipsis;display:-webkit-box}.header_bar .header_bar_top .header_title.clamped{-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical}.header_bar .header_bar_top .sub{display:flex;flex-wrap:wrap}.header_bar .header_bar_top .header_bar_bottom{display:flex;margin-bottom:16px}.header_bar [class*=bar_]{flex:0}","",{version:3,sources:["webpack://./src/js/components/Base/HeaderBar.vue"],names:[],mappings:"AACA,mCACC,YAAA,CAIA,4BACC,YAAA,CACA,sBAAA,CACA,wBAAA,CACA,OAAA,CACA,cAAA,CAEA,0CACC,YAAA,CACA,qBAAA,CACA,YAAA,CACA,sBAAA,CAGD,0CACC,gBAAA,CACA,aAAA,CACA,iBAAA,CACA,eAAA,CACA,sBAAA,CACA,mBAAA,CACA,kDACC,oBAAA,CACA,YAAA,CACA,2BAAA,CAGF,iCACC,YAAA,CACA,cAAA,CAED,+CACC,YAAA,CACA,kBAAA,CAIF,0BACC,MAAA",sourcesContent:['\n.page--scrolled .header_bar_bottom {\n\tdisplay: none;\n}\n\n.header_bar {\n\t.header_bar_top {\n\t\tdisplay: flex;\n\t\tflex-wrap: wrap-reverse;\n\t\tjustify-content: flex-end;\n\t\tgap: 8px;\n\t\tmin-height: 3em;\n\n\t\t.bar_top_left {\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\tflex: 1 180px;\n\t\t\tjustify-content: center;\n\t\t}\n\n\t\t.header_title {\n\t\t\tfont-weight: bold;\n\t\t\tfont-size: 1em;\n\t\t\tline-height: 1.5em;\n\t\t\toverflow: hidden;\n\t\t\ttext-overflow: ellipsis;\n\t\t\tdisplay: -webkit-box;\n\t\t\t&.clamped {\n\t\t\t\t-webkit-line-clamp: 2;\n\t\t\t\tline-clamp: 2;\n\t\t\t\t-webkit-box-orient: vertical;\n\t\t\t}\n\t\t}\n\t\t.sub {\n\t\t\tdisplay: flex;\n\t\t\tflex-wrap: wrap;\n\t\t}\n\t\t.header_bar_bottom {\n\t\t\tdisplay: flex;\n\t\t\tmargin-bottom: 16px;\n\t\t}\n\t}\n\n\t[class*="bar_"] {\n\t\tflex: 0;\n\t}\n}\n'],sourceRoot:""}]);const r=s},88854:(t,e,l)=>{l.d(e,{Z:()=>r});var i=l(87537),o=l.n(i),n=l(23645),s=l.n(n)()(o());s.push([t.id,".poll-list__list{width:100%;display:flex;flex-direction:column;overflow:scroll;padding-bottom:14px}","",{version:3,sources:["webpack://./src/js/views/PollList.vue"],names:[],mappings:"AACA,iBACC,UAAA,CACA,YAAA,CACA,qBAAA,CACA,eAAA,CACA,mBAAA",sourcesContent:["\n.poll-list__list {\n\twidth: 100%;\n\tdisplay: flex;\n\tflex-direction: column;\n\toverflow: scroll;\n\tpadding-bottom: 14px;\n}\n"],sourceRoot:""}]);const r=s},63651:(t,e,l)=>{l.d(e,{Z:()=>n});var i=function(){var t=this,e=t._self._c;return e("span",t._b({staticClass:"material-design-icon archive-icon",attrs:{"aria-hidden":!t.title,"aria-label":t.title,role:"img"},on:{click:function(e){return t.$emit("click",e)}}},"span",t.$attrs,!1),[e("svg",{staticClass:"material-design-icon__svg",attrs:{fill:t.fillColor,width:t.size,height:t.size,viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M3,3H21V7H3V3M4,8H20V21H4V8M9.5,11A0.5,0.5 0 0,0 9,11.5V13H15V11.5A0.5,0.5 0 0,0 14.5,11H9.5Z"}},[t.title?e("title",[t._v(t._s(t.title))]):t._e()])])])};i._withStripped=!0;const o={name:"ArchiveIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};const n=(0,l(51900).Z)(o,i,[],!1,null,null,null).exports},86433:(t,e,l)=>{l.d(e,{Z:()=>n});var i=function(){var t=this,e=t._self._c;return e("span",t._b({staticClass:"material-design-icon content-copy-icon",attrs:{"aria-hidden":!t.title,"aria-label":t.title,role:"img"},on:{click:function(e){return t.$emit("click",e)}}},"span",t.$attrs,!1),[e("svg",{staticClass:"material-design-icon__svg",attrs:{fill:t.fillColor,width:t.size,height:t.size,viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"}},[t.title?e("title",[t._v(t._s(t.title))]):t._e()])])])};i._withStripped=!0;const o={name:"ContentCopyIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};const n=(0,l(51900).Z)(o,i,[],!1,null,null,null).exports},50171:(t,e,l)=>{l.d(e,{Z:()=>n});var i=function(){var t=this,e=t._self._c;return e("span",t._b({staticClass:"material-design-icon delete-icon",attrs:{"aria-hidden":!t.title,"aria-label":t.title,role:"img"},on:{click:function(e){return t.$emit("click",e)}}},"span",t.$attrs,!1),[e("svg",{staticClass:"material-design-icon__svg",attrs:{fill:t.fillColor,width:t.size,height:t.size,viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z"}},[t.title?e("title",[t._v(t._s(t.title))]):t._e()])])])};i._withStripped=!0;const o={name:"DeleteIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};const n=(0,l(51900).Z)(o,i,[],!1,null,null,null).exports},93317:(t,e,l)=>{l.d(e,{Z:()=>n});var i=function(){var t=this,e=t._self._c;return e("span",t._b({staticClass:"material-design-icon recycle-icon",attrs:{"aria-hidden":!t.title,"aria-label":t.title,role:"img"},on:{click:function(e){return t.$emit("click",e)}}},"span",t.$attrs,!1),[e("svg",{staticClass:"material-design-icon__svg",attrs:{fill:t.fillColor,width:t.size,height:t.size,viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M21.82,15.42L19.32,19.75C18.83,20.61 17.92,21.06 17,21H15V23L12.5,18.5L15,14V16H17.82L15.6,12.15L19.93,9.65L21.73,12.77C22.25,13.54 22.32,14.57 21.82,15.42M9.21,3.06H14.21C15.19,3.06 16.04,3.63 16.45,4.45L17.45,6.19L19.18,5.19L16.54,9.6L11.39,9.69L13.12,8.69L11.71,6.24L9.5,10.09L5.16,7.59L6.96,4.47C7.37,3.64 8.22,3.06 9.21,3.06M5.05,19.76L2.55,15.43C2.06,14.58 2.13,13.56 2.64,12.79L3.64,11.06L1.91,10.06L7.05,10.14L9.7,14.56L7.97,13.56L6.56,16H11V21H7.4C6.47,21.07 5.55,20.61 5.05,19.76Z"}},[t.title?e("title",[t._v(t._s(t.title))]):t._e()])])])};i._withStripped=!0;const o={name:"RecycleIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};const n=(0,l(51900).Z)(o,i,[],!1,null,null,null).exports},73108:(t,e,l)=>{l.d(e,{Z:()=>n});var i=l(53729),o=l(77745);const n=(0,l(51900).Z)(o.Z,i.s,i.x,!1,null,null,null).exports},1410:(t,e,l)=>{l.d(e,{Z:()=>g});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"header_bar"},[e("div",{staticClass:"header_bar_top"},[e("div",{staticClass:"bar_top_left"},[e("div",{class:["header_title",{clamped:t.clamped}],on:{click:function(e){return t.toggleClamp()}}},[t._t("title")],2),e("div",{staticClass:"bar_top_left_sub"},[t._t("sub")],2)]),e("div",{staticClass:"bar_top_right"},[t._t("right")],2)]),e("div",{staticClass:"header_bar_bottom"},[t._t("default")],2)])};i._withStripped=!0;const o={name:"HeaderBar",data:()=>({clamped:!0}),methods:{toggleClamp(){this.clamped=!this.clamped}}};var n=l(93379),s=l.n(n),r=l(7795),a=l.n(r),c=l(90569),p=l.n(c),d=l(3565),A=l.n(d),u=l(19216),_=l.n(u),h=l(44589),C=l.n(h),f=l(98701),m={};m.styleTagTransform=C(),m.setAttributes=A(),m.insert=p().bind(null,"head"),m.domAPI=a(),m.insertStyleElement=_();s()(f.Z,m);f.Z&&f.Z.locals&&f.Z.locals;const g=(0,l(51900).Z)(o,i,[],!1,null,null,null).exports},74113:(e,l,i)=>{i.r(l),i.d(l,{default:()=>B});var o=function(){var t=this,e=t._self._c;return e("NcAppContent",{staticClass:"poll-list"},[e("HeaderBar",{staticClass:"area__header",scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" "+t._s(t.title)+" ")]},proxy:!0}])},[t._v(" "+t._s(t.description)+" ")]),e("div",{staticClass:"area__main"},[t.noPolls?e("NcEmptyContent",{attrs:{title:t.t("polls","No polls found for this category")},scopedSlots:t._u([{key:"icon",fn:function(){return[e("PollsAppIcon")]},proxy:!0},{key:"action",fn:function(){return[t._v(" "+t._s(t.t("polls","Add one or change category!"))+" ")]},proxy:!0}],null,!1,2290787160)}):e("transition-group",{staticClass:"poll-list__list",attrs:{name:"list",tag:"div"}},[e("PollItem",{key:"0",attrs:{header:!0},on:{"sort-list":function(e){return t.setSortColumn(e)}}}),t._l(t.pollList,(function(l){return e("PollItem",{key:l.id,attrs:{poll:l},on:{"goto-poll":function(e){return t.gotoPoll(l.id)},"load-poll":function(e){return t.loadPoll(l.id)}},scopedSlots:t._u([{key:"actions",fn:function(){return[e("NcActions",{attrs:{"force-menu":""}},[t.isPollCreationAllowed?e("NcActionButton",{attrs:{"close-after-click":!0},on:{click:function(e){return t.clonePoll(l.id)}},scopedSlots:t._u([{key:"icon",fn:function(){return[e("ClonePollIcon")]},proxy:!0}],null,!0)},[t._v(" "+t._s(t.t("polls","Clone poll"))+" ")]):t._e(),l.allowEdit&&!l.deleted?e("NcActionButton",{attrs:{"close-after-click":!0},on:{click:function(e){return t.toggleArchive(l.id)}},scopedSlots:t._u([{key:"icon",fn:function(){return[e("ArchivePollIcon")]},proxy:!0}],null,!0)},[t._v(" "+t._s(t.t("polls","Archive poll"))+" ")]):t._e(),l.allowEdit&&l.deleted?e("NcActionButton",{attrs:{"close-after-click":!0},on:{click:function(e){return t.toggleArchive(l.id)}},scopedSlots:t._u([{key:"icon",fn:function(){return[e("RestorePollIcon")]},proxy:!0}],null,!0)},[t._v(" "+t._s(t.t("polls","Restore poll"))+" ")]):t._e(),l.allowEdit&&l.deleted?e("NcActionButton",{staticClass:"danger",attrs:{"close-after-click":!0},on:{click:function(e){return t.deletePoll(l.id)}},scopedSlots:t._u([{key:"icon",fn:function(){return[e("DeletePollIcon")]},proxy:!0}],null,!0)},[t._v(" "+t._s(t.t("polls","Delete poll"))+" ")]):t._e()],1)]},proxy:!0}],null,!0)})}))],2)],1),t.isLoading?e("LoadingOverlay"):t._e()],1)};o._withStripped=!0;var n=i(20629),s=i(64024),r=i(15961),a=i(1410),c=i(50171),p=i(86433),d=i(63651),A=i(93317),u=i(73108);const _={name:"PollList",components:{NcAppContent:r.Mb,NcActions:r.O3,NcActionButton:r.Js,NcEmptyContent:r.SL,HeaderBar:a.Z,DeletePollIcon:c.Z,ClonePollIcon:p.Z,ArchivePollIcon:d.Z,RestorePollIcon:A.Z,PollsAppIcon:u.Z,LoadingOverlay:()=>i.e("src_js_components_Base_LoadingOverlay_vue").then(i.bind(i,95117)),PollItem:()=>i.e("src_js_components_PollList_PollItem_vue").then(i.bind(i,19174))},data:()=>({isLoading:!1}),computed:{...(0,n.rn)({pollCategories:t=>t.polls.categories,isPollCreationAllowed:t=>t.polls.isPollCreationAllowed}),...(0,n.Se)({filteredPolls:"polls/filtered"}),title(){var t;return null===(t=this.pollCategories.find((t=>t.id===this.$route.params.type)))||void 0===t?void 0:t.titleExt},description(){var t;return null===(t=this.pollCategories.find((t=>t.id===this.$route.params.type)))||void 0===t?void 0:t.description},windowTitle(){return"".concat(t("polls","Polls")," - ").concat(this.title)},pollList(){return this.filteredPolls(this.$route.params.type)},noPolls(){return this.pollList.length<1}},watch:{$route(){this.refreshView()}},mounted(){this.refreshView()},methods:{...(0,n.nv)({setSortColumn:"polls/setSort"}),gotoPoll(t){this.$router.push({name:"vote",params:{id:t}})},async loadPoll(e){try{await this.$store.dispatch({type:"poll/get",pollId:e})}catch{(0,s.x2)(t("polls","Error loading poll"))}},refreshView(){window.document.title="".concat(t("polls","Polls")," - ").concat(this.title)},async toggleArchive(e){try{await this.$store.dispatch("poll/toggleArchive",{pollId:e})}catch{(0,s.x2)(t("polls","Error archiving/restoring poll."))}},async deletePoll(e){try{await this.$store.dispatch("poll/delete",{pollId:e})}catch{(0,s.x2)(t("polls","Error deleting poll."))}},async clonePoll(e){try{await this.$store.dispatch("poll/clone",{pollId:e})}catch{(0,s.x2)(t("polls","Error cloning poll."))}}}};var h=i(93379),C=i.n(h),f=i(7795),m=i.n(f),g=i(90569),v=i.n(g),y=i(3565),b=i.n(y),x=i(19216),w=i.n(x),k=i(44589),P=i.n(k),L=i(88854),Z={};Z.styleTagTransform=P(),Z.setAttributes=b(),Z.insert=v().bind(null,"head"),Z.domAPI=m(),Z.insertStyleElement=w();C()(L.Z,Z);L.Z&&L.Z.locals&&L.Z.locals;const B=(0,i(51900).Z)(_,o,[],!1,null,null,null).exports},77745:(t,e,l)=>{l.d(e,{Z:()=>i});const i=l(82869).Z},53729:(t,e,l)=>{l.d(e,{s:()=>i.s,x:()=>i.x});var i=l(24274)}}]);
//# sourceMappingURL=polls-src_js_views_PollList_vue.js.map?v=ba2d1d02bf0a5d80b6e0