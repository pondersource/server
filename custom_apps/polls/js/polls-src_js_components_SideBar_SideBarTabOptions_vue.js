/*! For license information please see polls-src_js_components_SideBar_SideBarTabOptions_vue.js.LICENSE.txt */
"use strict";(self.webpackChunkpolls=self.webpackChunkpolls||[]).push([["src_js_components_SideBar_SideBarTabOptions_vue","src_js_components_Options_OptionItemOwner_vue"],{36066:(n,o,e)=>{e.d(o,{b:()=>l});var i=e(96486),s=e(64024);const l={computed:{...(0,e(20629).rn)({pollTitle:t=>t.poll.title})},methods:{successDebounced:(0,i.debounce)((function(){(0,s.s$)(t("polls",'"{pollTitle}" successfully saved',{pollTitle:this.pollTitle}),{timeout:1e3})}),1500),async writePoll(){if(""===this.pollTitle)(0,s.x2)(t("polls","Title must not be empty!"));else try{await this.$store.dispatch("poll/update"),this.successDebounced()}catch{(0,s.x2)(t("polls","Error writing poll"))}}}}},84303:(t,n,o)=>{o.d(n,{Z:()=>a});var e=o(87537),i=o.n(e),s=o(23645),l=o.n(s)()(i());l.push([t.id,".config-box__header{display:flex;align-content:center;align-items:center;gap:5px;margin:8px 0 8px 0}.config-box{display:flex;flex-direction:column;padding:8px 0}.config-box .icon-container{width:20px}.config-box .config-box__title{display:flex;flex:1;opacity:.7;font-weight:bold;margin:0}.config-box .config-box__title[class*=icon-]{padding-left:24px}.config-box .config-box__title .icon-info{opacity:.7;width:32px}.config-box .config-box__container{display:flex;flex-direction:column;padding-left:24px}.config-box .config-box__container label{margin:4px 0}.indented{margin-left:24px !important}","",{version:3,sources:["webpack://./src/js/components/Base/ConfigBox.vue"],names:[],mappings:"AACA,oBACC,YAAA,CACA,oBAAA,CACA,kBAAA,CACA,OAAA,CACA,kBAAA,CAGD,YACC,YAAA,CACA,qBAAA,CACA,aAAA,CACA,4BACC,UAAA,CAGD,+BACC,YAAA,CACA,MAAA,CACA,UAAA,CACA,gBAAA,CACA,QAAA,CAEA,6CACC,iBAAA,CAGD,0CACC,UAAA,CACA,UAAA,CAIF,mCACC,YAAA,CACA,qBAAA,CACA,iBAAA,CAEA,yCACC,YAAA,CAKH,UACC,2BAAA",sourcesContent:["\n.config-box__header {\n\tdisplay: flex;\n\talign-content: center;\n\talign-items: center;\n\tgap: 5px;\n\tmargin: 8px 0 8px 0;\n}\n\n.config-box {\n\tdisplay: flex;\n\tflex-direction: column;\n\tpadding: 8px 0;\n\t.icon-container {\n\t\twidth: 20px;\n\t}\n\n\t.config-box__title {\n\t\tdisplay: flex;\n\t\tflex: 1;\n\t\topacity: 0.7;\n\t\tfont-weight: bold;\n\t\tmargin: 0;\n\n\t\t&[class*='icon-'] {\n\t\t\tpadding-left: 24px;\n\t\t}\n\n\t\t.icon-info {\n\t\t\topacity: 0.7;\n\t\t\twidth: 32px;\n\t\t}\n\t}\n\n\t.config-box__container {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tpadding-left: 24px;\n\n\t\tlabel {\n\t\t\tmargin: 4px 0;\n\t\t}\n\t}\n}\n\n.indented {\n\tmargin-left: 24px !important;\n}\n"],sourceRoot:""}]);const a=l},35823:(t,n,o)=>{o.d(n,{Z:()=>a});var e=o(87537),i=o.n(e),s=o(23645),l=o.n(s)()(i());l.push([t.id,".sideways{display:flex;column-gap:48px;flex-wrap:wrap}","",{version:3,sources:["webpack://./src/js/components/Options/OptionCloneDate.vue"],names:[],mappings:"AAEA,UACC,YAAA,CACA,eAAA,CACA,cAAA",sourcesContent:["\n\n.sideways {\n\tdisplay: flex;\n\tcolumn-gap: 48px;\n\tflex-wrap: wrap;\n}\n\n"],sourceRoot:""}]);const a=l},94330:(t,n,o)=>{o.d(n,{Z:()=>a});var e=o(87537),i=o.n(e),s=o(23645),l=o.n(s)()(i());l.push([t.id,".option-item-owner{display:flex;align-items:center;justify-content:center}","",{version:3,sources:["webpack://./src/js/components/Options/OptionItemOwner.vue"],names:[],mappings:"AAEA,mBACC,YAAA,CACA,kBAAA,CACA,sBAAA",sourcesContent:["\n\n.option-item-owner {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n"],sourceRoot:""}]);const a=l},71290:(t,n,o)=>{o.d(n,{Z:()=>a});var e=o(87537),i=o.n(e),s=o(23645),l=o.n(s)()(i());l.push([t.id,".select-unit{display:flex;flex-wrap:wrap;align-items:center}.select-unit .v-select{margin:0 8px;width:unset !important;min-width:75px;flex:1}.select-unit .button-vue.button-vue--vue-tertiary{padding:0;min-width:0}.select-unit .button-vue__text,.select-unit .button-vue--text-only .button-vue__text{margin:0}","",{version:3,sources:["webpack://./src/js/components/Options/OptionsDateShift.vue"],names:[],mappings:"AACA,aACC,YAAA,CACA,cAAA,CACA,kBAAA,CACA,uBACC,YAAA,CACA,sBAAA,CACA,cAAA,CACA,MAAA,CAGD,kDACC,SAAA,CACA,WAAA,CAGD,qFAEC,QAAA",sourcesContent:["\n.select-unit {\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\talign-items: center;\n\t.v-select {\n\t\tmargin: 0 8px;\n\t\twidth: unset !important;\n\t\tmin-width: 75px;\n\t\tflex: 1;\n\t}\n\n\t.button-vue.button-vue--vue-tertiary {\n\t\tpadding: 0;\n\t\tmin-width: 0;\n\t}\n\n\t.button-vue__text,\n\t.button-vue--text-only .button-vue__text {\n\t\tmargin: 0;\n\t}\n}\n"],sourceRoot:""}]);const a=l},40874:(t,n,o)=>{o.d(n,{Z:()=>a});var e=o(87537),i=o.n(e),s=o(23645),l=o.n(s)()(i());l.push([t.id,".optionAdd{display:flex}.newOption{margin-left:40px;flex:1}.newOption:empty:before{color:gray}.flip-list-move{transition:transform .5s}.no-move{transition:transform 0s}.ghost{opacity:.5;background:var(--color-primary-element-hover)}.submit-option{width:30px;background-color:rgba(0,0,0,0);border:none;opacity:.3;cursor:pointer}","",{version:3,sources:["webpack://./src/js/components/Options/OptionsText.vue"],names:[],mappings:"AACA,WACC,YAAA,CAGD,WACC,gBAAA,CACA,MAAA,CACA,wBACC,UAAA,CAIF,gBACC,wBAAA,CAGD,SACC,uBAAA,CAGD,OACC,UAAA,CACA,6CAAA,CAGD,eACC,UAAA,CACA,8BAAA,CACA,WAAA,CACA,UAAA,CACA,cAAA",sourcesContent:["\n.optionAdd {\n\tdisplay: flex;\n}\n\n.newOption {\n\tmargin-left: 40px;\n\tflex: 1;\n\t&:empty:before {\n\t\tcolor: grey;\n\t}\n}\n\n.flip-list-move {\n\ttransition: transform 0.5s;\n}\n\n.no-move {\n\ttransition: transform 0s;\n}\n\n.ghost {\n\topacity: 0.5;\n\tbackground: var(--color-primary-element-hover);\n}\n\n.submit-option {\n\twidth: 30px;\n\tbackground-color: transparent;\n\tborder: none;\n\topacity: 0.3;\n\tcursor: pointer;\n}\n\n"],sourceRoot:""}]);const a=l},31377:(t,n,o)=>{o.d(n,{Z:()=>a});var e=o(87537),i=o.n(e),s=o(23645),l=o.n(s)()(i());l.push([t.id,".side-bar-tab-options .owner{display:flex;position:relative;left:-16px;width:0}.side-bar-tab-options .draggable:hover .owner{display:none}.side-bar-tab-options .option-item{border-bottom:1px solid var(--color-border)}.side-bar-tab-options .option-item:active,.side-bar-tab-options .option-item:hover{transition:var(--background-dark) .3s ease;background-color:var(--color-background-dark)}","",{version:3,sources:["webpack://./src/js/components/SideBar/SideBarTabOptions.vue"],names:[],mappings:"AAEC,6BACC,YAAA,CACA,iBAAA,CACA,UAAA,CACA,OAAA,CAGD,8CACC,YAAA,CAGD,mCACC,2CAAA,CACA,mFAEC,0CAAA,CACA,6CAAA",sourcesContent:["\n.side-bar-tab-options {\n\t.owner {\n\t\tdisplay: flex;\n\t\tposition: relative;\n\t\tleft: -16px;\n\t\twidth: 0;\n\t}\n\n\t.draggable:hover .owner {\n\t\tdisplay: none;\n\t}\n\n\t.option-item {\n\t\tborder-bottom: 1px solid var(--color-border);\n\t\t&:active,\n\t\t&:hover {\n\t\t\ttransition: var(--background-dark) 0.3s ease;\n\t\t\tbackground-color: var(--color-background-dark);\n\t\t}\n\t}\n}\n\n"],sourceRoot:""}]);const a=l},74712:(t,n,o)=>{o.d(n,{Z:()=>h});var e=function(){var t=this,n=t._self._c;return n("div",{staticClass:"config-box"},[n("div",{staticClass:"config-box__header"},[t._t("icon"),n("div",{directives:[{name:"tooltip",rawName:"v-tooltip.auto",value:t.info,expression:"info",modifiers:{auto:!0}}],class:["config-box__title",t.iconClassComputed,{indented:t.indented}]},[t._v(" "+t._s(t.title)+" "),t.info?n("div",{staticClass:"icon-info"}):t._e()]),t._t("actions")],2),n("div",{staticClass:"config-box__container"},[t._t("default")],2)])};e._withStripped=!0;const i={name:"ConfigBox",props:{title:{type:String,default:""},iconClass:{type:String,default:null},info:{type:String,default:""},indented:{type:Boolean,default:!1}},computed:{hasIconSlot(){return!!this.$slots.icon},iconClassComputed(){return this.hasIconSlot?null:this.iconClass}}};var s=o(93379),l=o.n(s),a=o(7795),r=o.n(a),p=o(90569),c=o.n(p),u=o(3565),d=o.n(u),A=o(19216),m=o.n(A),f=o(44589),C=o.n(f),x=o(84303),v={};v.styleTagTransform=C(),v.setAttributes=d(),v.insert=c().bind(null,"head"),v.domAPI=r(),v.insertStyleElement=m();l()(x.Z,v);x.Z&&x.Z.locals&&x.Z.locals;const h=(0,o(51900).Z)(i,e,[],!1,null,null,null).exports},3879:(t,n,o)=>{o.r(n),o.d(n,{default:()=>w});var e=function(){var t=this,n=t._self._c;return n("div",{staticClass:"option-item-owner"},[t.acl.allowEdit||t.acl.userId!==t.option.owner.userId?t.option.owner.userId&&t.option.owner.userId!==t.pollOwner?n("NcAvatar",{attrs:{user:t.option.owner.userId,"display-name":t.option.owner.displayName,"is-no-user":t.option.owner.isNoUser,"disable-menu":"",size:t.avatarSize,"tooltip-message":t.t("polls","{displayName}'s proposal",{displayName:t.option.owner.displayName})}}):t._e():n("ActionDelete",{attrs:{title:t.t("polls","Delete option")},on:{delete:function(n){return t.removeOption(t.option)}}})],1)};e._withStripped=!0;var i=o(20629),s=o(15961),l=o(44738),a=o(25919);const r={name:"OptionItemOwner",components:{NcAvatar:s.Xn,ActionDelete:a.Z},mixins:[l.J],props:{option:{type:Object,default:void 0},avatarSize:{type:Number,default:32}},computed:{...(0,i.rn)({pollOwner:t=>t.poll.owner.userId,acl:t=>t.poll.acl}),...(0,i.Se)({})}};var p=o(93379),c=o.n(p),u=o(7795),d=o.n(u),A=o(90569),m=o.n(A),f=o(3565),C=o.n(f),x=o(19216),v=o.n(x),h=o(44589),y=o.n(h),_=o(94330),b={};b.styleTagTransform=y(),b.setAttributes=C(),b.insert=m().bind(null,"head"),b.domAPI=d(),b.insertStyleElement=v();c()(_.Z,b);_.Z&&_.Z.locals&&_.Z.locals;const w=(0,o(51900).Z)(r,e,[],!1,null,null,null).exports},74820:(n,o,e)=>{e.r(o),e.d(o,{default:()=>ut});var i=function(){var t=this,n=t._self._c;return n("div",{staticClass:"side-bar-tab-options"},[t.isOwner?t._e():n("ConfigBox",{attrs:{title:t.t("polls","As an admin you may edit this poll")}}),n("ConfigBox",{attrs:{title:t.t("polls","Allow proposals from users")},scopedSlots:t._u([{key:"icon",fn:function(){return[n("AddDateIcon")]},proxy:!0}])},[n("ConfigProposals")],1),"datePoll"===t.pollType&&t.countOptions&&!t.closed?n("ConfigBox",{attrs:{title:t.t("polls","Shift all date options")},scopedSlots:t._u([{key:"icon",fn:function(){return[n("ShiftDateIcon")]},proxy:!0}],null,!1,1217527932)},[n("OptionsDateShift")],1):t._e(),"datePoll"===t.pollType?n("ConfigBox",{attrs:{title:t.t("polls","Available Options")},scopedSlots:t._u([{key:"icon",fn:function(){return[n("DateOptionsIcon")]},proxy:!0},{key:"actions",fn:function(){return[t.closed?t._e():n("OptionsDateAdd",{attrs:{caption:t.t("polls","Add a date"),"show-caption":"",primary:""}})]},proxy:!0}],null,!1,2696332230)},[n("OptionsDate")],1):t._e(),"textPoll"===t.pollType?n("ConfigBox",{attrs:{title:t.t("polls","Available Options")},scopedSlots:t._u([{key:"icon",fn:function(){return[n("TextOptionsIcon")]},proxy:!0},{key:"actions",fn:function(){return[t.closed?t._e():n("OptionsTextAddBulk")]},proxy:!0}],null,!1,3779222809)},[n("OptionsText")],1):t._e()],1)};i._withStripped=!0;var s=e(20629),l=e(74712),a=function(){var t=this,n=t._self._c;return n("div",[t.countOptions?n("ul",{tag:"transition-group"},t._l(t.options,(function(o){return n("OptionItem",{key:o.id,attrs:{option:o,"show-confirmed":!0,"poll-type":t.pollType,display:"textBox",tag:"li"},scopedSlots:t._u([{key:"icon",fn:function(){return[t.acl.allowAddOptions?n("OptionItemOwner",{staticClass:"owner",attrs:{"avatar-size":16,option:o}}):t._e()]},proxy:!0},t.acl.allowEdit?{key:"actions",fn:function(){return[t.closed?t._e():n("ActionDelete",{attrs:{title:t.t("polls","Delete option")},on:{delete:function(n){return t.removeOption(o)}}}),t.closed?t._e():n("NcActions",{staticClass:"action"},[t.closed?t._e():n("NcActionButton",{on:{click:function(n){return t.cloneOptionModal(o)}},scopedSlots:t._u([{key:"icon",fn:function(){return[n("CloneDateIcon")]},proxy:!0}],null,!0)},[t._v(" "+t._s(t.t("polls","Clone option"))+" ")])],1),t.closed?n("NcButton",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.confirmedButtonCaption,expression:"confirmedButtonCaption"}],attrs:{"aria-label":t.confirmedButtonCaption,type:"tertiary"},on:{click:function(n){return t.confirmOption(o)}},scopedSlots:t._u([{key:"icon",fn:function(){return[o.confirmed?n("UnconfirmIcon"):n("ConfirmIcon")]},proxy:!0}],null,!0)}):t._e()]},proxy:!0}:null],null,!0)})})),1):n("NcEmptyContent",{attrs:{title:t.t("polls","No vote options")},scopedSlots:t._u([{key:"icon",fn:function(){return[n("DatePollIcon")]},proxy:!0},{key:"action",fn:function(){return[t._v(" "+t._s(t.t("polls","Add some!"))+" ")]},proxy:!0}])}),t.cloneModal?n("NcModal",{attrs:{size:"small","can-close":!1}},[n("OptionCloneDate",{staticClass:"modal__content",attrs:{option:t.optionToClone},on:{close:function(n){return t.closeModal()}}})],1):t._e()],1)};a._withStripped=!0;var r=e(15961),p=e(25919),c=function(){var t=this,n=t._self._c;return n("div",{staticClass:"option-clone-date"},[n("h2",[t._v(t._s(t.t("polls","Clone to option sequence")))]),n("p",[t._v(t._s(t.t("polls","Create a sequence of date options starting with {dateOption}.",{dateOption:t.dateBaseOptionString})))]),n("h3",[t._v(" "+t._s(t.t("polls","Step unit"))+" ")]),n("NcSelect",{attrs:{clearable:!1,filterable:!1,options:t.dateUnits,label:"name"},model:{value:t.sequence.unit,callback:function(n){t.$set(t.sequence,"unit",n)},expression:"sequence.unit"}}),n("div",{staticClass:"sideways"},[n("InputDiv",{attrs:{label:t.t("polls","Step width"),type:"number",inputmode:"numeric","use-num-modifiers":""},model:{value:t.sequence.step,callback:function(n){t.$set(t.sequence,"step",n)},expression:"sequence.step"}}),n("InputDiv",{attrs:{label:t.t("polls","Amount"),type:"number",inputmode:"numeric","use-num-modifiers":""},model:{value:t.sequence.amount,callback:function(n){t.$set(t.sequence,"amount",n)},expression:"sequence.amount"}})],1),n("div",{staticClass:"modal__buttons"},[n("NcButton",{on:{click:function(n){return t.$emit("close")}},scopedSlots:t._u([{key:"default",fn:function(){return[t._v(" "+t._s(t.t("polls","Cancel"))+" ")]},proxy:!0}])}),n("NcButton",{attrs:{type:"primary"},on:{click:function(n){return t.createSequence()}},scopedSlots:t._u([{key:"default",fn:function(){return[t._v(" "+t._s(t.t("polls","OK"))+" ")]},proxy:!0}])})],1)],1)};c._withStripped=!0;var u=e(80351),d=e.n(u);const A={data:()=>({dateUnits:[{name:t("polls","Minute"),value:"minute"},{name:t("polls","Hour"),value:"hour"},{name:t("polls","Day"),value:"day"},{name:t("polls","Week"),value:"week"},{name:t("polls","Month"),value:"month"},{name:t("polls","Year"),value:"year"}]})};var m=e(34461);const f={name:"OptionCloneDate",components:{InputDiv:m.Z,NcSelect:r.QG,NcButton:r.P2},mixins:[A],props:{option:{type:Object,default:void 0}},data:()=>({sequence:{unit:{name:t("polls","Week"),value:"week"},step:1,amount:1}}),computed:{dateBaseOptionString(){return d().unix(this.option.timestamp).format("LLLL")}},methods:{createSequence(){this.$store.dispatch("options/sequence",{option:this.option,sequence:this.sequence}),this.$emit("close")}}};var C=e(93379),x=e.n(C),v=e(7795),h=e.n(v),y=e(90569),_=e.n(y),b=e(3565),w=e.n(b),g=e(19216),O=e.n(g),k=e(44589),S=e.n(k),D=e(35823),B={};B.styleTagTransform=S(),B.setAttributes=w(),B.insert=_().bind(null,"head"),B.domAPI=h(),B.insertStyleElement=O();x()(D.Z,B);D.Z&&D.Z.locals&&D.Z.locals;var I=e(51900);const Z=(0,I.Z)(f,c,[],!1,null,null,null).exports;var T=e(45822),N=e(44738),P=e(45496),E=e(68428),U=e(63171),q=e(26426);const M={name:"OptionsDate",components:{CloneDateIcon:P.Z,ConfirmIcon:U.default,UnconfirmIcon:E.Z,NcActions:r.O3,NcActionButton:r.Js,ActionDelete:p.Z,NcEmptyContent:r.SL,NcModal:r.Jc,OptionCloneDate:Z,OptionItem:T.Z,NcButton:r.P2,DatePollIcon:q.default,OptionItemOwner:()=>Promise.resolve().then(e.bind(e,3879))},mixins:[N.d,A,N.J],data:()=>({cloneModal:!1,optionToClone:{},pollType:"datePoll"}),computed:{...(0,s.rn)({options:t=>t.options.list,acl:t=>t.poll.acl,isOwner:t=>t.poll.acl.isOwner}),...(0,s.Se)({closed:"poll/isClosed",countOptions:"options/count"}),confirmedButtonCaption(){return this.option.confirmed?t("polls","Unconfirm option"):t("polls","Confirm option")}},methods:{closeModal(){this.cloneModal=!1},cloneOptionModal(t){this.optionToClone=t,this.cloneModal=!0}}};const j=(0,I.Z)(M,a,[],!1,null,null,null).exports;var Y=function(){var t=this,n=t._self._c;return n("div",[t.proposalsExist?n("div",[t._v(" "+t._s(t.t("polls","Shifting dates is disabled to prevent shifting of other user's proposals."))+" ")]):n("div",{staticClass:"select-unit"},[n("InputDiv",{attrs:{"use-num-modifiers":""},model:{value:t.shift.step,callback:function(n){t.$set(t.shift,"step",n)},expression:"shift.step"}}),n("NcSelect",{attrs:{clearable:!1,filterable:!1,options:t.dateUnits,label:"name"},model:{value:t.shift.unit,callback:function(n){t.$set(t.shift,"unit",n)},expression:"shift.unit"}}),n("NcButton",{staticClass:"submit",attrs:{"aria-label":t.t("polls","Submit"),type:"tertiary"},on:{click:function(n){return t.shiftDates(t.shift)}},scopedSlots:t._u([{key:"icon",fn:function(){return[n("SubmitIcon")]},proxy:!0}])})],1)])};Y._withStripped=!0;var $=e(71774);const G={name:"OptionsDateShift",components:{InputDiv:m.Z,NcButton:r.P2,NcSelect:r.QG,SubmitIcon:$.default},mixins:[A],data:()=>({shift:{step:1,unit:{name:t("polls","Week"),value:"week"}}}),computed:{...(0,s.rn)({options:t=>t.options.list}),...(0,s.Se)({proposalsExist:"options/proposalsExist"})},methods:{shiftDates(t){this.$store.dispatch("options/shift",{shift:t})}}};var W=e(71290),L={};L.styleTagTransform=S(),L.setAttributes=w(),L.insert=_().bind(null,"head"),L.domAPI=h(),L.insertStyleElement=O();x()(W.Z,L);W.Z&&W.Z.locals&&W.Z.locals;const R=(0,I.Z)(G,Y,[],!1,null,null,null).exports;var z=function(){var t=this,n=t._self._c;return n("div",[t.closed?t._e():n("OptionsTextAdd"),t.countOptions?n("draggable",t._b({on:{start:function(n){t.drag=!0},end:function(n){t.drag=!1}},model:{value:t.reOrderedOptions,callback:function(n){t.reOrderedOptions=n},expression:"reOrderedOptions"}},"draggable",t.dragOptions,!1),[n("transition-group",{attrs:{type:"transition",name:t.drag?null:"flip-list"}},t._l(t.reOrderedOptions,(function(o){return n("OptionItem",{key:o.id,attrs:{option:o,"poll-type":t.pollType,draggable:!0},scopedSlots:t._u([{key:"icon",fn:function(){return[t.acl.allowAddOptions?n("OptionItemOwner",{staticClass:"owner",attrs:{"avatar-size":16,option:o}}):t._e()]},proxy:!0},t.acl.allowEdit?{key:"actions",fn:function(){return[t.closed?t._e():n("ActionDelete",{attrs:{title:t.t("polls","Delete option")},on:{delete:function(n){return t.removeOption(o)}}}),t.closed?n("NcButton",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.confirmationCaption,expression:"confirmationCaption"}],attrs:{"aria-label":t.confirmationCaption,type:"tertiary"},on:{click:function(n){return t.confirmOption(o)}},scopedSlots:t._u([{key:"icon",fn:function(){return[o.confirmed?n("UnconfirmIcon"):n("ConfirmIcon")]},proxy:!0}],null,!0)}):t._e()]},proxy:!0}:null],null,!0)})})),1)],1):n("NcEmptyContent",{attrs:{title:t.t("polls","No vote options")},scopedSlots:t._u([{key:"icon",fn:function(){return[n("TextPollIcon")]},proxy:!0},{key:"action",fn:function(){return[t._v(" "+t._s(t.t("polls","Add some!"))+" ")]},proxy:!0}])})],1)};z._withStripped=!0;var F=e(9980),J=e.n(F),V=e(3879),Q=e(88388);const H={name:"OptionsText",components:{ConfirmIcon:U.default,UnconfirmIcon:E.Z,ActionDelete:p.Z,NcEmptyContent:r.SL,draggable:J(),OptionItem:T.Z,OptionItemOwner:V.default,NcButton:r.P2,TextPollIcon:Q.Z,OptionsTextAdd:()=>e.e("src_js_components_Options_OptionsTextAdd_vue").then(e.bind(e,36865))},mixins:[N.d,N.J],data:()=>({pollType:"textPoll",drag:!1}),computed:{...(0,s.rn)({options:t=>t.options.list,acl:t=>t.poll.acl,isOwner:t=>t.poll.acl.isOwner}),...(0,s.Se)({closed:"poll/isClosed",countOptions:"options/count"}),confirmationCaption(){return this.option.confirmed?t("polls","Unconfirm option"):t("polls","Confirm option")},dragOptions:()=>({animation:200,group:"description",disabled:!1,ghostClass:"ghost"}),reOrderedOptions:{get(){return this.options},set(t){this.$store.dispatch("options/reorder",t)}}}};var K=e(40874),X={};X.styleTagTransform=S(),X.setAttributes=w(),X.insert=_().bind(null,"head"),X.domAPI=h(),X.insertStyleElement=O();x()(K.Z,X);K.Z&&K.Z.locals&&K.Z.locals;const tt=(0,I.Z)(H,z,[],!1,null,null,null).exports;var nt=function(){var t=this,n=t._self._c;return n("div",[n("NcCheckboxRadioSwitch",{attrs:{checked:t.allowProposals,type:"switch"},on:{"update:checked":function(n){t.allowProposals=n}}},[t._v(" "+t._s(t.t("polls","Allow Proposals"))+" ")]),n("NcCheckboxRadioSwitch",{directives:[{name:"show",rawName:"v-show",value:t.proposalsAllowed,expression:"proposalsAllowed"}],attrs:{checked:t.proposalExpiration,type:"switch"},on:{"update:checked":function(n){t.proposalExpiration=n}}},[t._v(" "+t._s(t.t("polls","Proposal closing date"))+" ")]),n("NcDatetimePicker",t._b({directives:[{name:"show",rawName:"v-show",value:t.proposalExpiration&&t.proposalsAllowed,expression:"proposalExpiration && proposalsAllowed"}],model:{value:t.pollExpire,callback:function(n){t.pollExpire=n},expression:"pollExpire"}},"NcDatetimePicker",t.expirationDatePicker,!1))],1)};nt._withStripped=!0;var ot=e(36066);const et={name:"ConfigProposals",components:{NcCheckboxRadioSwitch:r.rw,NcDatetimePicker:r.P4},mixins:[ot.b],computed:{...(0,s.rn)({poll:t=>t.poll}),...(0,s.Se)({proposalsAllowed:"poll/proposalsAllowed",proposalsOptions:"poll/proposalsOptions"}),allowProposals:{get(){return"allow"===this.poll.allowProposals},set(t){this.writeValue({allowProposals:t?"allow":"disallow"})}},pollExpire:{get(){return d().unix(this.poll.proposalsExpire)._d},set(t){this.writeValue({proposalsExpire:d()(t).unix()})}},proposalExpiration:{get(){return!!this.poll.proposalsExpire},set(t){t?this.writeValue({proposalsExpire:d()().add(1,"week").unix()}):this.writeValue({proposalsExpire:0})}},firstDOW:()=>0===d().localeData()._week.dow?7:d().localeData()._week.dow,expirationDatePicker(){return{editable:!0,minuteStep:5,type:"datetime",format:d().localeData().longDateFormat("L LT"),placeholder:t("polls","Proposals possible until"),confirm:!0,lang:{formatLocale:{firstDayOfWeek:this.firstDOW,months:d().months(),monthsShort:d().monthsShort(),weekdays:d().weekdays(),weekdaysMin:d().weekdaysMin()}}}}},methods:{writeValue(t){this.$store.commit("poll/setProperty",t),this.writePoll()}}};const it=(0,I.Z)(et,nt,[],!1,null,null,null).exports;var st=e(13270),lt=e(37578),at=e(91921);const rt={name:"SideBarTabOptions",components:{AddDateIcon:st.Z,DateOptionsIcon:lt.Z,ShiftDateIcon:at.Z,TextOptionsIcon:Q.Z,ConfigBox:l.Z,ConfigProposals:it,OptionsDate:j,OptionsDateShift:R,OptionsText:tt,OptionsDateAdd:()=>e.e("src_js_components_Options_OptionsDateAdd_vue-_40461").then(e.bind(e,18755)),OptionsTextAddBulk:()=>e.e("src_js_components_Options_OptionsTextAddBulk_vue").then(e.bind(e,94297))},computed:{...(0,s.Se)({closed:"poll/isClosed",countOptions:"options/count"}),...(0,s.rn)({pollType:t=>t.poll.type,isOwner:t=>t.poll.acl.isOwner})}};var pt=e(31377),ct={};ct.styleTagTransform=S(),ct.setAttributes=w(),ct.insert=_().bind(null,"head"),ct.domAPI=h(),ct.insertStyleElement=O();x()(pt.Z,ct);pt.Z&&pt.Z.locals&&pt.Z.locals;const ut=(0,I.Z)(rt,i,[],!1,null,null,null).exports}}]);
//# sourceMappingURL=polls-src_js_components_SideBar_SideBarTabOptions_vue.js.map?v=5178e9c9275821c5e571