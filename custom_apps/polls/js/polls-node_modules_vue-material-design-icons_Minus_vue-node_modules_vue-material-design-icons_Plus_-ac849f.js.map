{"version":3,"file":"polls-node_modules_vue-material-design-icons_Minus_vue-node_modules_vue-material-design-icons_Plus_-ac849f.js?v=80afa959b51018b8400e","mappings":"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","sources":["webpack:///polls/src/js/Api/validators.js","webpack:///polls/src/js/helpers/SimpleLink.js","webpack:///polls/src/js/components/Poll/PublicRegisterModal.vue?vue&type=style&index=0&id=7a0e56b9&prod&lang=scss&","webpack://polls/./node_modules/vue-material-design-icons/Minus.vue?7768","webpack:///polls/node_modules/vue-material-design-icons/Minus.vue","webpack://polls/./node_modules/vue-material-design-icons/Plus.vue?80b4","webpack:///polls/node_modules/vue-material-design-icons/Plus.vue","webpack://polls/./src/js/components/Poll/PublicRegisterModal.vue?c181","webpack:///polls/src/js/components/Poll/PublicRegisterModal.vue","webpack:///polls/src/js/components/Poll/PublicRegisterModal.vue?vue&type=script&lang=js&","webpack://polls/./src/js/components/Poll/PublicRegisterModal.vue?9e16","webpack://polls/./src/js/components/Poll/PublicRegisterModal.vue?1daa","webpack:///polls/node_modules/vue-material-design-icons/Minus.vue?vue&type=script&lang=js&","webpack:///polls/node_modules/vue-material-design-icons/Plus.vue?vue&type=script&lang=js&","webpack:///polls/node_modules/vue-material-design-icons/Minus.vue?vue&type=template&id=7052dc28&","webpack:///polls/node_modules/vue-material-design-icons/Plus.vue?vue&type=template&id=968bec46&"],"sourcesContent":["/**\r\n * @copyright Copyright (c) 2022 Rene Gieling <github@dartcafe.de>\r\n *\r\n * @author Rene Gieling <github@dartcafe.de>\r\n *\r\n * @license  AGPL-3.0-or-later\r\n *\r\n * This program is free software: you can redistribute it and/or modify\r\n * it under the terms of the GNU Affero General Public License as\r\n * published by the Free Software Foundation, either version 3 of the\r\n * License, or (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n * GNU Affero General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU Affero General Public License\r\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\r\n *\r\n */\r\n\r\nimport { httpInstance, createCancelTokenHandler } from './HttpApi.js'\r\n\r\nconst validators = {\r\n\tvalidateEmailAddress(emailAddress) {\r\n\t\treturn httpInstance.request({\r\n\t\t\tmethod: 'GET',\r\n\t\t\turl: `check/emailaddress/${emailAddress}`,\r\n\t\t\tcancelToken: cancelTokenHandlerObject[this.validateEmailAddress.name].handleRequestCancellation().token,\r\n\t\t})\r\n\t},\r\n\r\n\tvalidateName(pollToken, name) {\r\n\t\treturn httpInstance.request({\r\n\t\t\tmethod: 'POST',\r\n\t\t\turl: 'check/username',\r\n\t\t\tcancelToken: cancelTokenHandlerObject[this.validateName.name].handleRequestCancellation().token,\r\n\t\t\tdata: {\r\n\t\t\t\tuserName: name,\r\n\t\t\t\ttoken: pollToken,\r\n\t\t\t},\r\n\t\t})\r\n\t},\r\n}\r\n\r\nconst cancelTokenHandlerObject = createCancelTokenHandler(validators)\r\n\r\nexport { validators as ValidatorAPI }\r\n","/**\r\n * @copyright Copyright (c) 2022 Rene Gieling <github@dartcafe.de>\r\n *\r\n * @author Rene Gieling <github@dartcafe.de>\r\n *\r\n * @license  AGPL-3.0-or-later\r\n *\r\n * This program is free software: you can redistribute it and/or modify\r\n * it under the terms of the GNU Affero General Public License as\r\n * published by the Free Software Foundation, either version 3 of the\r\n * License, or (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n * GNU Affero General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU Affero General Public License\r\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\r\n *\r\n */\r\n\r\nconst SimpleLink = {\r\n\tname: 'SimpleLink',\r\n\tfunctional: true,\r\n\r\n\tprops: {\r\n\t\thref: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: '',\r\n\t\t},\r\n\t\tname: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: '',\r\n\t\t},\r\n\t\ttarget: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: null,\r\n\t\t},\r\n\t},\r\n\r\n\trender(createElement, context) {\r\n\t\treturn createElement('a', {\r\n\t\t\tattrs: {\r\n\t\t\t\thref: context.props.href,\r\n\t\t\t\ttarget: context.props.target,\r\n\t\t\t},\r\n\t\t}, context.props.name)\r\n\t},\r\n}\r\n\r\nexport default SimpleLink\r\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.section__optin a{text-decoration:underline}.modal__registration{display:flex;flex-wrap:wrap;overflow:hidden}.modal__registration>div{display:flex;flex-direction:column;flex:1 auto;min-width:140px;padding:24px;border-top:1px solid;border-right:1px solid;margin-top:-2px;margin-right:-2px}.modal__registration>div>button{margin:8px 0}.modal__registration .registration__login{flex:1 180px}.modal__registration .registration__registration{flex:1 480px}[class*=section__]{margin:4px 0}.modal__content .enter__name,.modal__content .enter__email{margin-bottom:12px}.description{hyphens:auto;border-top:1px solid var(--color-border)}.legal_links a{color:var(--color-text-maxcontrast);font-weight:bold;white-space:nowrap;padding:10px;margin:-10px}.legal_links a:hover,.legal_links a:active{color:var(--color-main-text)}.legal_links a:hover::after,.legal_links a:active::after{color:var(--color-text-maxcontrast)}.legal_links a:after{content:\"|\";padding:0 4px}.legal_links a:last-child:after{content:\"\"}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/js/components/Poll/PublicRegisterModal.vue\"],\"names\":[],\"mappings\":\"AAEC,kBACC,yBAAA,CAIF,qBACC,YAAA,CACA,cAAA,CACA,eAAA,CACA,yBACC,YAAA,CACA,qBAAA,CACA,WAAA,CACA,eAAA,CACA,YAAA,CACA,oBAAA,CACA,sBAAA,CACA,eAAA,CACA,iBAAA,CACA,gCACC,YAAA,CAIF,0CACC,YAAA,CAED,iDACC,YAAA,CAKF,mBACC,YAAA,CAIA,2DACC,kBAAA,CAIF,aACC,YAAA,CACA,wCAAA,CAIA,eACC,mCAAA,CACA,gBAAA,CACA,kBAAA,CACA,YAAA,CACA,YAAA,CAEA,2CACC,4BAAA,CACA,yDACC,mCAAA,CAIF,qBACI,WAAA,CACH,aAAA,CAGD,gCACI,UAAA\",\"sourcesContent\":[\"\\n.section__optin {\\n\\ta {\\n\\t\\ttext-decoration: underline;\\n\\t}\\n}\\n\\n.modal__registration {\\n\\tdisplay: flex;\\n\\tflex-wrap: wrap;\\n\\toverflow: hidden;\\n\\t&>div {\\n\\t\\tdisplay: flex;\\n\\t\\tflex-direction: column;\\n\\t\\tflex: 1 auto;\\n\\t\\tmin-width: 140px;\\n\\t\\tpadding: 24px;\\n\\t\\tborder-top: 1px solid;\\n\\t\\tborder-right: 1px solid;\\n\\t\\tmargin-top: -2px;\\n\\t\\tmargin-right: -2px;\\n\\t\\t> button {\\n\\t\\t\\tmargin: 8px 0;\\n\\t\\t}\\n\\t}\\n\\n\\t.registration__login {\\n\\t\\tflex: 1 180px;\\n\\t}\\n\\t.registration__registration {\\n\\t\\tflex: 1 480px;\\n\\n\\t}\\n}\\n\\n[class*='section__'] {\\n\\tmargin: 4px 0;\\n}\\n\\n.modal__content {\\n\\t.enter__name, .enter__email {\\n\\t\\tmargin-bottom: 12px;\\n\\t}\\n}\\n\\n.description {\\n\\thyphens: auto;\\n\\tborder-top: 1px solid var(--color-border);\\n}\\n\\n.legal_links {\\n\\ta {\\n\\t\\tcolor: var(--color-text-maxcontrast);\\n\\t\\tfont-weight: bold;\\n\\t\\twhite-space: nowrap;\\n\\t\\tpadding: 10px;\\n\\t\\tmargin: -10px;\\n\\n\\t\\t&:hover, &:active {\\n\\t\\t\\tcolor: var(--color-main-text);\\n\\t\\t\\t&::after {\\n\\t\\t\\t\\tcolor: var(--color-text-maxcontrast);\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t&:after {\\n\\t\\t    content:\\\"|\\\";\\n\\t\\t\\tpadding: 0 4px;\\n\\t\\t}\\n\\n\\t\\t&:last-child:after {\\n\\t\\t    content:\\\"\\\";\\n\\t\\t}\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","import { render, staticRenderFns } from \"./Minus.vue?vue&type=template&id=7052dc28&\"\nimport script from \"./Minus.vue?vue&type=script&lang=js&\"\nexport * from \"./Minus.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <span v-bind=\"$attrs\"\n        :aria-hidden=\"!title\"\n        :aria-label=\"title\"\n        class=\"material-design-icon minus-icon\"\n        role=\"img\"\n        @click=\"$emit('click', $event)\">\n    <svg :fill=\"fillColor\"\n         class=\"material-design-icon__svg\"\n         :width=\"size\"\n         :height=\"size\"\n         viewBox=\"0 0 24 24\">\n      <path d=\"M19,13H5V11H19V13Z\">\n        <title v-if=\"title\">{{ title }}</title>\n      </path>\n    </svg>\n  </span>\n</template>\n\n<script>\nexport default {\n  name: \"MinusIcon\",\n  emits: ['click'],\n  props: {\n    title: {\n      type: String,\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n}\n</script>","import { render, staticRenderFns } from \"./Plus.vue?vue&type=template&id=968bec46&\"\nimport script from \"./Plus.vue?vue&type=script&lang=js&\"\nexport * from \"./Plus.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <span v-bind=\"$attrs\"\n        :aria-hidden=\"!title\"\n        :aria-label=\"title\"\n        class=\"material-design-icon plus-icon\"\n        role=\"img\"\n        @click=\"$emit('click', $event)\">\n    <svg :fill=\"fillColor\"\n         class=\"material-design-icon__svg\"\n         :width=\"size\"\n         :height=\"size\"\n         viewBox=\"0 0 24 24\">\n      <path d=\"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z\">\n        <title v-if=\"title\">{{ title }}</title>\n      </path>\n    </svg>\n  </span>\n</template>\n\n<script>\nexport default {\n  name: \"PlusIcon\",\n  emits: ['click'],\n  props: {\n    title: {\n      type: String,\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n}\n</script>","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"NcModal\",\n    {\n      directives: [\n        {\n          name: \"show\",\n          rawName: \"v-show\",\n          value: _vm.modal,\n          expression: \"modal\",\n        },\n      ],\n      attrs: { size: _vm.modalSize, \"can-close\": false },\n    },\n    [\n      _c(\"div\", { staticClass: \"modal__content\" }, [\n        _c(\"div\", { staticClass: \"modal__registration\" }, [\n          _c(\n            \"div\",\n            { staticClass: \"registration__registration\" },\n            [\n              _c(\"h2\", [_vm._v(_vm._s(_vm.t(\"polls\", \"Guest users\")))]),\n              _c(\"InputDiv\", {\n                staticClass: \"section__username\",\n                attrs: {\n                  \"signaling-class\": _vm.checkStatus.userName,\n                  placeholder: _vm.t(\"polls\", \"Enter your name or a nickname\"),\n                  \"helper-text\": _vm.userNameHint,\n                  focus: \"\",\n                },\n                on: { submit: _vm.submitRegistration },\n                model: {\n                  value: _vm.userName,\n                  callback: function ($$v) {\n                    _vm.userName = $$v\n                  },\n                  expression: \"userName\",\n                },\n              }),\n              _vm.share.publicPollEmail !== \"disabled\"\n                ? _c(\"InputDiv\", {\n                    staticClass: \"section__email\",\n                    attrs: {\n                      \"signaling-class\": _vm.checkStatus.email,\n                      placeholder: _vm.t(\n                        \"polls\",\n                        _vm.share.publicPollEmail === \"mandatory\"\n                          ? \"Email address (mandatory)\"\n                          : \"Email address (optional)\"\n                      ),\n                      \"helper-text\": _vm.emailAddressHint,\n                      type: \"email\",\n                      inputmode: \"email\",\n                    },\n                    on: { submit: _vm.submitRegistration },\n                    model: {\n                      value: _vm.emailAddress,\n                      callback: function ($$v) {\n                        _vm.emailAddress = $$v\n                      },\n                      expression: \"emailAddress\",\n                    },\n                  })\n                : _vm._e(),\n              _vm.share.type === \"public\"\n                ? _c(\n                    \"NcCheckboxRadioSwitch\",\n                    {\n                      attrs: { checked: _vm.saveCookie },\n                      on: {\n                        \"update:checked\": function ($event) {\n                          _vm.saveCookie = $event\n                        },\n                      },\n                    },\n                    [\n                      _vm._v(\n                        \" \" +\n                          _vm._s(_vm.t(\"polls\", \"Remember me for 30 days\")) +\n                          \" \"\n                      ),\n                    ]\n                  )\n                : _vm._e(),\n              _vm.privacyUrl\n                ? _c(\n                    \"div\",\n                    { staticClass: \"section__optin\" },\n                    [\n                      _c(\"NcRichText\", {\n                        attrs: {\n                          text: _vm.privacyRich.subject,\n                          arguments: _vm.privacyRich.parameters,\n                        },\n                      }),\n                    ],\n                    1\n                  )\n                : _vm._e(),\n              _c(\"div\", { staticClass: \"modal__buttons\" }, [\n                _c(\"div\", { staticClass: \"left\" }, [\n                  _c(\n                    \"div\",\n                    { staticClass: \"legal_links\" },\n                    [\n                      _vm.imprintUrl\n                        ? _c(\"SimpleLink\", {\n                            attrs: {\n                              href: _vm.imprintUrl,\n                              target: \"_blank\",\n                              name: _vm.t(\"polls\", \"Legal Notice\"),\n                            },\n                          })\n                        : _vm._e(),\n                    ],\n                    1\n                  ),\n                ]),\n                _c(\n                  \"div\",\n                  { staticClass: \"right\" },\n                  [\n                    _c(\"NcButton\", {\n                      on: { click: _vm.closeModal },\n                      scopedSlots: _vm._u([\n                        {\n                          key: \"default\",\n                          fn: function () {\n                            return [\n                              _vm._v(\n                                \" \" + _vm._s(_vm.t(\"polls\", \"Cancel\")) + \" \"\n                              ),\n                            ]\n                          },\n                          proxy: true,\n                        },\n                      ]),\n                    }),\n                    _c(\"NcButton\", {\n                      attrs: { type: \"primary\", disabled: _vm.disableSubmit },\n                      on: {\n                        click: function ($event) {\n                          return _vm.submitRegistration()\n                        },\n                      },\n                      scopedSlots: _vm._u([\n                        {\n                          key: \"default\",\n                          fn: function () {\n                            return [\n                              _vm._v(\" \" + _vm._s(_vm.t(\"polls\", \"OK\")) + \" \"),\n                            ]\n                          },\n                          proxy: true,\n                        },\n                      ]),\n                    }),\n                  ],\n                  1\n                ),\n              ]),\n            ],\n            1\n          ),\n          _vm.share.showLogin\n            ? _c(\n                \"div\",\n                { staticClass: \"registration__login\" },\n                [\n                  _c(\"h2\", [\n                    _vm._v(\n                      \" \" + _vm._s(_vm.t(\"polls\", \"Registered users\")) + \" \"\n                    ),\n                  ]),\n                  _c(\"NcButton\", {\n                    attrs: { wide: \"\" },\n                    on: {\n                      click: function ($event) {\n                        return _vm.login()\n                      },\n                    },\n                    scopedSlots: _vm._u(\n                      [\n                        {\n                          key: \"default\",\n                          fn: function () {\n                            return [\n                              _vm._v(\n                                \" \" + _vm._s(_vm.t(\"polls\", \"Login\")) + \" \"\n                              ),\n                            ]\n                          },\n                          proxy: true,\n                        },\n                      ],\n                      null,\n                      false,\n                      2388514509\n                    ),\n                  }),\n                  _c(\"div\", [\n                    _vm._v(\n                      \" \" +\n                        _vm._s(\n                          _vm.t(\n                            \"polls\",\n                            \"As a regular user of this site, you can participate with your internal identity after logging in.\"\n                          )\n                        ) +\n                        \" \"\n                    ),\n                  ]),\n                  _c(\"div\", [\n                    _vm._v(\n                      \" \" +\n                        _vm._s(\n                          _vm.t(\n                            \"polls\",\n                            \"Otherwise participate as a guest user.\"\n                          )\n                        ) +\n                        \" \"\n                    ),\n                  ]),\n                ],\n                1\n              )\n            : _vm._e(),\n        ]),\n      ]),\n    ]\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<!--\n  - @copyright Copyright (c) 2018 René Gieling <github@dartcafe.de>\n  -\n  - @author René Gieling <github@dartcafe.de>\n  -\n  - @license GNU AGPL version 3 or any later version\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <http://www.gnu.org/licenses/>.\n  -\n  -->\n\n<template lang=\"html\">\n\t<NcModal v-show=\"modal\" :size=\"modalSize\" :can-close=\"false\">\n\t\t<div class=\"modal__content\">\n\t\t\t<div class=\"modal__registration\">\n\t\t\t\t<div class=\"registration__registration\">\n\t\t\t\t\t<h2>{{ t('polls', 'Guest users') }}</h2>\n\t\t\t\t\t<InputDiv v-model=\"userName\"\n\t\t\t\t\t\tclass=\"section__username\"\n\t\t\t\t\t\t:signaling-class=\"checkStatus.userName\"\n\t\t\t\t\t\t:placeholder=\"t('polls', 'Enter your name or a nickname')\"\n\t\t\t\t\t\t:helper-text=\"userNameHint\"\n\t\t\t\t\t\tfocus\n\t\t\t\t\t\t@submit=\"submitRegistration\" />\n\n\t\t\t\t\t<InputDiv v-if=\"share.publicPollEmail !== 'disabled'\"\n\t\t\t\t\t\tv-model=\"emailAddress\"\n\t\t\t\t\t\tclass=\"section__email\"\n\t\t\t\t\t\t:signaling-class=\"checkStatus.email\"\n\t\t\t\t\t\t:placeholder=\"t('polls', share.publicPollEmail === 'mandatory' ? 'Email address (mandatory)' : 'Email address (optional)')\"\n\t\t\t\t\t\t:helper-text=\"emailAddressHint\"\n\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\tinputmode=\"email\"\n\t\t\t\t\t\t@submit=\"submitRegistration\" />\n\n\t\t\t\t\t<NcCheckboxRadioSwitch v-if=\"share.type === 'public'\" :checked.sync=\"saveCookie\">\n\t\t\t\t\t\t{{ t('polls', 'Remember me for 30 days') }}\n\t\t\t\t\t</NcCheckboxRadioSwitch>\n\n\t\t\t\t\t<div v-if=\"privacyUrl\" class=\"section__optin\">\n\t\t\t\t\t\t<NcRichText :text=\"privacyRich.subject\" :arguments=\"privacyRich.parameters\" />\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"modal__buttons\">\n\t\t\t\t\t\t<div class=\"left\">\n\t\t\t\t\t\t\t<div class=\"legal_links\">\n\t\t\t\t\t\t\t\t<SimpleLink v-if=\"imprintUrl\"\n\t\t\t\t\t\t\t\t\t:href=\"imprintUrl\"\n\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\t:name=\"t('polls', 'Legal Notice')\" />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"right\">\n\t\t\t\t\t\t\t<NcButton @click=\"closeModal\">\n\t\t\t\t\t\t\t\t<template #default>\n\t\t\t\t\t\t\t\t\t{{ t('polls', 'Cancel') }}\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</NcButton>\n\n\t\t\t\t\t\t\t<NcButton type=\"primary\" :disabled=\"disableSubmit\" @click=\"submitRegistration()\">\n\t\t\t\t\t\t\t\t<template #default>\n\t\t\t\t\t\t\t\t\t{{ t('polls', 'OK') }}\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</NcButton>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div v-if=\"share.showLogin\" class=\"registration__login\">\n\t\t\t\t\t<h2> {{ t('polls', 'Registered users') }} </h2>\n\t\t\t\t\t<NcButton wide @click=\"login()\">\n\t\t\t\t\t\t<template #default>\n\t\t\t\t\t\t\t{{ t('polls', 'Login') }}\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</NcButton>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t{{ t('polls', 'As a regular user of this site, you can participate with your internal identity after logging in.') }}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t{{ t('polls', 'Otherwise participate as a guest user.') }}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</NcModal>\n</template>\n\n<script>\nimport { debounce } from 'lodash'\nimport { showError } from '@nextcloud/dialogs'\nimport { generateUrl } from '@nextcloud/router'\nimport { NcButton, NcModal, NcCheckboxRadioSwitch, NcRichText } from '@nextcloud/vue'\nimport { mapState } from 'vuex'\nimport InputDiv from '../Base/InputDiv.vue'\nimport SimpleLink from '../../helpers/SimpleLink.js'\nimport { ValidatorAPI } from '../../Api/validators.js'\nimport { PublicAPI } from '../../Api/public.js'\nimport { setCookie } from '../../helpers/cookieHelper.js'\n\nconst COOKIE_LIFETIME = 30\n\nexport default {\n\tname: 'PublicRegisterModal',\n\n\tcomponents: {\n\t\tNcCheckboxRadioSwitch,\n\t\tInputDiv,\n\t\tNcModal,\n\t\tNcRichText,\n\t\tSimpleLink,\n\t\tNcButton,\n\t},\n\n\tdata() {\n\t\treturn {\n\t\t\tcheckStatus: {\n\t\t\t\temail: 'empty',\n\t\t\t\tuserName: 'empty',\n\t\t\t},\n\t\t\tuserName: '',\n\t\t\temailAddress: '',\n\t\t\tredirecting: false,\n\t\t\tmodal: true,\n\t\t\tmodalSize: 'large',\n\t\t\tsaveCookie: true,\n\t\t}\n\t},\n\n\tcomputed: {\n\t\t...mapState({\n\t\t\tpoll: (state) => state.poll,\n\t\t\tshare: (state) => state.share,\n\t\t\tprivacyUrl: (state) => state.appSettings.usePrivacyUrl,\n\t\t\timprintUrl: (state) => state.appSettings.useImprintUrl,\n\t\t}),\n\n\t\tregistrationIsValid() {\n\t\t\treturn this.checkStatus.userName === 'valid' && (this.checkStatus.email === 'valid' || (this.emailAddress.length === 0 && this.share.publicPollEmail !== 'mandatory'))\n\t\t},\n\n\t\tdisableSubmit() {\n\t\t\treturn !this.registrationIsValid || this.checkStatus.userName === 'checking'\n\t\t},\n\n\t\tprivacyRich() {\n\t\t\tconst subject = t('polls', 'By clicking the \"OK\" button you accept our {privacyPolicy}.')\n\t\t\tconst parameters = {\n\t\t\t\tprivacyPolicy: {\n\t\t\t\t\tcomponent: SimpleLink,\n\t\t\t\t\tprops: {\n\t\t\t\t\t\thref: this.privacyUrl,\n\t\t\t\t\t\tname: t('polls', 'privacy policy'),\n\t\t\t\t\t\ttarget: '_blank',\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t}\n\t\t\treturn { subject, parameters }\n\t\t},\n\n\t\tloginLink() {\n\t\t\tconst redirectUrl = this.$router.resolve({\n\t\t\t\tname: 'publicVote',\n\t\t\t\tparams: { token: this.$route.params.token },\n\t\t\t}).href\n\n\t\t\treturn `${generateUrl('/login')}?redirect_url=${redirectUrl}`\n\n\t\t\t// TODO: broken?\n\t\t\t// return generateUrl('/login', { redirect_url: redirectUrl })\n\t\t},\n\n\t\tuserNameHint() {\n\t\t\tif (this.checkStatus.userName === 'checking') return t('polls', 'Checking name …')\n\t\t\tif (this.checkStatus.userName === 'empty') return t('polls', 'A name is required.')\n\t\t\tif (this.checkStatus.userName === 'invalid') return t('polls', 'The name {username} is invalid or reserved.', { username: this.userName })\n\t\t\treturn ''\n\t\t},\n\n\t\temailGeneratedStatus() {\n\t\t\treturn this.checkStatus.email === 'empty' ? this.share.publicPollEmail : this.checkStatus.email\n\t\t},\n\n\t\temailAddressHint() {\n\t\t\tif (this.emailGeneratedStatus === 'checking') return t('polls', 'Checking email address …')\n\t\t\tif (this.emailGeneratedStatus === 'mandatory') return t('polls', 'An email address is required.')\n\t\t\tif (this.emailGeneratedStatus === 'invalid') return t('polls', 'Invalid email address.')\n\t\t\tif (this.share.type === 'public') {\n\t\t\t\tif (this.emailGeneratedStatus === 'valid') return t('polls', 'You will receive your personal link after clicking \"OK\".')\n\t\t\t\treturn t('polls', 'Enter your email address to get your personal access link.')\n\t\t\t}\n\t\t\treturn ''\n\t\t},\n\t},\n\n\twatch: {\n\t\tuserName() {\n\t\t\tthis.validatePublicUsername()\n\t\t},\n\n\t\temailAddress() {\n\t\t\tthis.validateEmailAddress()\n\t\t},\n\t},\n\n\tmounted() {\n\t\tif (this.$route.name === 'publicVote' && this.$route.query.name) {\n\t\t\tthis.userName = this.$route.query.name\n\t\t} else {\n\t\t\tthis.userName = this.share.displayName\n\t\t}\n\t\tif (this.$route.name === 'publicVote' && this.$route.query.email) {\n\t\t\tthis.emailAddress = this.$route.query.email\n\t\t} else {\n\t\t\tthis.emailAddress = this.share.emailAddress\n\t\t}\n\t},\n\n\tmethods: {\n\t\tcloseModal() {\n\t\t\tthis.modal = false\n\t\t},\n\n\t\tlogin() {\n\t\t\twindow.location.assign(`${window.location.protocol}//${window.location.host}${this.loginLink}`)\n\t\t},\n\n\t\tvalidatePublicUsername: debounce(async function() {\n\t\t\tif (this.userName.length < 1) {\n\t\t\t\tthis.checkStatus.userName = 'empty'\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tthis.checkStatus.userName = 'checking'\n\n\t\t\ttry {\n\t\t\t\tawait ValidatorAPI.validateName(this.$route.params.token, this.userName)\n\t\t\t\tthis.checkStatus.userName = 'valid'\n\t\t\t} catch (e) {\n\t\t\t\tif (e?.code === 'ERR_CANCELED') return\n\t\t\t\tif (e?.code === 'ERR_BAD_REQUEST') {\n\t\t\t\t\tthis.checkStatus.userName = 'invalid'\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tthrow e\n\t\t\t}\n\t\t}, 500),\n\n\t\tvalidateEmailAddress: debounce(async function() {\n\t\t\tif (this.emailAddress.length < 1) {\n\t\t\t\tthis.checkStatus.email = 'empty'\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tthis.checkStatus.email = 'checking'\n\t\t\ttry {\n\t\t\t\tawait ValidatorAPI.validateEmailAddress(this.emailAddress)\n\t\t\t\tthis.checkStatus.email = 'valid'\n\t\t\t} catch (e) {\n\t\t\t\tif (e?.code === 'ERR_CANCELED') return\n\t\t\t\tif (e?.code === 'ERR_BAD_REQUEST') {\n\t\t\t\t\tthis.checkStatus.email = 'invalid'\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tthrow e\n\t\t\t}\n\t\t}, 500),\n\n\t\tupdateCookie(value) {\n\t\t\tconst cookieExpiration = (COOKIE_LIFETIME * 24 * 60 * 1000)\n\t\t\tsetCookie(this.$route.params.token, value, cookieExpiration)\n\t\t},\n\n\t\trouteToPersonalShare(token) {\n\t\t\tif (this.$route.params.token === token) {\n\t\t\t\t// if share was not a public share, but a personal share\n\t\t\t\t// (i.e. email shares allow to change personal data by fist entering of the poll),\n\t\t\t\t// just load the poll\n\t\t\t\tthis.$store.dispatch({ type: 'poll/get' })\n\t\t\t\tthis.closeModal()\n\t\t\t} else {\n\t\t\t\t// in case of a public share, redirect to the generated share\n\t\t\t\tthis.redirecting = true\n\t\t\t\tthis.$router.replace({ name: 'publicVote', params: { token } })\n\t\t\t\tthis.closeModal()\n\t\t\t}\n\n\t\t},\n\n\t\tasync submitRegistration() {\n\t\t\tif (!this.registrationIsValid) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tconst response = await PublicAPI.register(\n\t\t\t\t\tthis.$route.params.token,\n\t\t\t\t\tthis.userName,\n\t\t\t\t\tthis.emailAddress,\n\t\t\t\t)\n\n\t\t\t\tif (this.saveCookie && this.$route.params.type === 'public') {\n\t\t\t\t\tthis.updateCookie(response.data.share.token)\n\t\t\t\t}\n\n\t\t\t\tthis.routeToPersonalShare(response.data.share.token)\n\n\t\t\t\t// TODO: Is that correct, is this possible in any way?\n\t\t\t\tif (this.share.emailAddress && !this.share.invitationSent) {\n\t\t\t\t\tshowError(t('polls', 'Email could not be sent to {emailAddress}', { emailAddress: this.share.emailAddress }))\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tif (e?.code === 'ERR_CANCELED') return\n\t\t\t\tshowError(t('polls', 'Error registering to poll', { error: e.response }))\n\t\t\t\tthrow e\n\t\t\t}\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\">\n\t.section__optin {\n\t\ta {\n\t\t\ttext-decoration: underline;\n\t\t}\n\t}\n\n\t.modal__registration {\n\t\tdisplay: flex;\n\t\tflex-wrap: wrap;\n\t\toverflow: hidden;\n\t\t&>div {\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\tflex: 1 auto;\n\t\t\tmin-width: 140px;\n\t\t\tpadding: 24px;\n\t\t\tborder-top: 1px solid;\n\t\t\tborder-right: 1px solid;\n\t\t\tmargin-top: -2px;\n\t\t\tmargin-right: -2px;\n\t\t\t> button {\n\t\t\t\tmargin: 8px 0;\n\t\t\t}\n\t\t}\n\n\t\t.registration__login {\n\t\t\tflex: 1 180px;\n\t\t}\n\t\t.registration__registration {\n\t\t\tflex: 1 480px;\n\n\t\t}\n\t}\n\n\t[class*='section__'] {\n\t\tmargin: 4px 0;\n\t}\n\n\t.modal__content {\n\t\t.enter__name, .enter__email {\n\t\t\tmargin-bottom: 12px;\n\t\t}\n\t}\n\n\t.description {\n\t\thyphens: auto;\n\t\tborder-top: 1px solid var(--color-border);\n\t}\n\n\t.legal_links {\n\t\ta {\n\t\t\tcolor: var(--color-text-maxcontrast);\n\t\t\tfont-weight: bold;\n\t\t\twhite-space: nowrap;\n\t\t\tpadding: 10px;\n\t\t\tmargin: -10px;\n\n\t\t\t&:hover, &:active {\n\t\t\t\tcolor: var(--color-main-text);\n\t\t\t\t&::after {\n\t\t\t\t\tcolor: var(--color-text-maxcontrast);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t&:after {\n\t\t\t    content:\"|\";\n\t\t\t\tpadding: 0 4px;\n\t\t\t}\n\n\t\t\t&:last-child:after {\n\t\t\t    content:\"\";\n\t\t\t}\n\t\t}\n\t}\n</style>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PublicRegisterModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PublicRegisterModal.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PublicRegisterModal.vue?vue&type=style&index=0&id=7a0e56b9&prod&lang=scss&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PublicRegisterModal.vue?vue&type=style&index=0&id=7a0e56b9&prod&lang=scss&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./PublicRegisterModal.vue?vue&type=template&id=7a0e56b9&lang=html&\"\nimport script from \"./PublicRegisterModal.vue?vue&type=script&lang=js&\"\nexport * from \"./PublicRegisterModal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PublicRegisterModal.vue?vue&type=style&index=0&id=7a0e56b9&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../vue-loader/lib/index.js??vue-loader-options!./Minus.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../vue-loader/lib/index.js??vue-loader-options!./Minus.vue?vue&type=script&lang=js&\"","import mod from \"-!../vue-loader/lib/index.js??vue-loader-options!./Plus.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../vue-loader/lib/index.js??vue-loader-options!./Plus.vue?vue&type=script&lang=js&\"","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"span\",\n    _vm._b(\n      {\n        staticClass: \"material-design-icon minus-icon\",\n        attrs: {\n          \"aria-hidden\": !_vm.title,\n          \"aria-label\": _vm.title,\n          role: \"img\",\n        },\n        on: {\n          click: function ($event) {\n            return _vm.$emit(\"click\", $event)\n          },\n        },\n      },\n      \"span\",\n      _vm.$attrs,\n      false\n    ),\n    [\n      _c(\n        \"svg\",\n        {\n          staticClass: \"material-design-icon__svg\",\n          attrs: {\n            fill: _vm.fillColor,\n            width: _vm.size,\n            height: _vm.size,\n            viewBox: \"0 0 24 24\",\n          },\n        },\n        [\n          _c(\"path\", { attrs: { d: \"M19,13H5V11H19V13Z\" } }, [\n            _vm.title ? _c(\"title\", [_vm._v(_vm._s(_vm.title))]) : _vm._e(),\n          ]),\n        ]\n      ),\n    ]\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"span\",\n    _vm._b(\n      {\n        staticClass: \"material-design-icon plus-icon\",\n        attrs: {\n          \"aria-hidden\": !_vm.title,\n          \"aria-label\": _vm.title,\n          role: \"img\",\n        },\n        on: {\n          click: function ($event) {\n            return _vm.$emit(\"click\", $event)\n          },\n        },\n      },\n      \"span\",\n      _vm.$attrs,\n      false\n    ),\n    [\n      _c(\n        \"svg\",\n        {\n          staticClass: \"material-design-icon__svg\",\n          attrs: {\n            fill: _vm.fillColor,\n            width: _vm.size,\n            height: _vm.size,\n            viewBox: \"0 0 24 24\",\n          },\n        },\n        [\n          _c(\n            \"path\",\n            { attrs: { d: \"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z\" } },\n            [_vm.title ? _c(\"title\", [_vm._v(_vm._s(_vm.title))]) : _vm._e()]\n          ),\n        ]\n      ),\n    ]\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }"],"names":["validators","validateEmailAddress","emailAddress","httpInstance","request","method","url","concat","cancelToken","cancelTokenHandlerObject","this","name","handleRequestCancellation","token","validateName","pollToken","data","userName","createCancelTokenHandler","functional","props","href","type","String","default","target","render","createElement","context","attrs","___CSS_LOADER_EXPORT___","push","module","id","emits","title","fillColor","size","Number","_vm","_c","_self","directives","rawName","value","modal","expression","modalSize","staticClass","_v","_s","t","checkStatus","placeholder","userNameHint","focus","on","submit","submitRegistration","model","callback","$$v","share","publicPollEmail","email","emailAddressHint","inputmode","_e","checked","saveCookie","$event","privacyUrl","text","privacyRich","subject","arguments","parameters","imprintUrl","click","closeModal","scopedSlots","_u","key","fn","proxy","disabled","disableSubmit","showLogin","wide","login","_withStripped","components","NcCheckboxRadioSwitch","InputDiv","NcModal","NcRichText","SimpleLink","NcButton","redirecting","computed","mapState","poll","state","appSettings","usePrivacyUrl","useImprintUrl","registrationIsValid","length","privacyPolicy","component","loginLink","redirectUrl","$router","resolve","params","$route","generateUrl","username","emailGeneratedStatus","watch","validatePublicUsername","mounted","query","displayName","methods","window","location","assign","protocol","host","debounce","ValidatorAPI","e","code","updateCookie","setCookie","COOKIE_LIFETIME","routeToPersonalShare","$store","dispatch","replace","response","PublicAPI","register","invitationSent","showError","error","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","locals","_b","role","$emit","$attrs","fill","width","height","viewBox","d","staticRenderFns"],"sourceRoot":""}