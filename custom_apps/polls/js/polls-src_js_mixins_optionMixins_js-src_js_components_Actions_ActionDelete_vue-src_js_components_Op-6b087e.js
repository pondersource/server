/*! For license information please see polls-src_js_mixins_optionMixins_js-src_js_components_Actions_ActionDelete_vue-src_js_components_Op-6b087e.js.LICENSE.txt */
"use strict";(self.webpackChunkpolls=self.webpackChunkpolls||[]).push([["src_js_mixins_optionMixins_js-src_js_components_Actions_ActionDelete_vue-src_js_components_Op-6b087e"],{44738:(t,e,n)=>{n.d(e,{J:()=>i,d:()=>o});const o={methods:{confirmOption(t){this.$store.dispatch("options/confirm",{option:t})}}},i={methods:{removeOption(t){this.$store.dispatch("options/delete",{option:t})}}}},13772:(t,e,n)=>{n.d(e,{Z:()=>l});var o=n(87537),i=n.n(o),a=n(23645),s=n.n(a)()(i());s.push([t.id,".material-design-icon.delete-icon,.material-design-icon.undo-icon{cursor:pointer}.material-design-icon.delete-icon:hover{color:var(--color-error-hover)}.material-design-icon.arrow-u-left-top-icon{visibility:visible !important}","",{version:3,sources:["webpack://./src/js/components/Actions/ActionDelete.vue"],names:[],mappings:"AAGC,kEAEC,cAAA,CAGD,wCACC,8BAAA,CAED,4CAEC,6BAAA",sourcesContent:["\n.material-design-icon {\n\n\t&.delete-icon,\n\t&.undo-icon {\n\t\tcursor: pointer;\n\t}\n\n\t&.delete-icon:hover {\n\t\tcolor: var(--color-error-hover);\n\t}\n\t&.arrow-u-left-top-icon {\n\t\t/* force the undo icon always to be visible */\n\t\tvisibility: visible !important;\n\t}\n}\n"],sourceRoot:""}]);const l=s},50727:(t,e,n)=>{n.d(e,{Z:()=>l});var o=n(87537),i=n.n(o),a=n(23645),s=n.n(a)()(i());s.push([t.id,".option-item{display:flex;align-items:center;flex:1;position:relative}.option-item.date-box{align-items:stretch;flex-direction:column}.option-item .material-design-icon{visibility:hidden}.option-item:hover .material-design-icon{visibility:visible}.devider{align-self:center;color:var(--color-text-maxcontrast)}.option-item__option--datebox{display:flex;flex-direction:column;align-items:stretch;justify-content:flex-start;text-align:center;hyphens:auto}.event-date{display:flex;flex:0 1;flex-direction:row;justify-content:center}.event-date .event-from,.event-date .event-to{display:flex;flex-direction:column;flex:1;min-width:70px}.event-date .event-from .month,.event-date .event-from .dow,.event-date .event-from .time,.event-date .event-to .month,.event-date .event-to .dow,.event-date .event-to .time{white-space:pre;font-size:1.1em;padding:0 4px;color:var(--color-text-maxcontrast)}.event-date .event-from .day,.event-date .event-to .day{font-size:1.2em;font-weight:600;margin:5px 0 5px 0;padding:0 4px}.event-date .event-from .time,.event-date .event-to .time{font-size:.8em;padding:0 4px}.event-time{display:flex;flex-direction:column;align-items:center;margin-top:8px;height:1.5em}.event-time .time-to{font-size:.8em}[class*=option-item__option]{flex:1;opacity:1;white-space:normal}.option-item__option--text{overflow:hidden;text-overflow:ellipsis}.option-item__option--text a{font-weight:bold;text-decoration:underline}.option-item__handle{margin-right:8px}.draggable,.draggable [class*=option-item__option]{cursor:grab}.draggable:active,.draggable [class*=option-item__option]:active{cursor:grabbing;cursor:-moz-grabbing;cursor:-webkit-grabbing}.option-item__rank{flex:0 0;justify-content:flex-end;padding-right:8px}","",{version:3,sources:["webpack://./src/js/components/Options/OptionItem.vue"],names:[],mappings:"AACA,aACC,YAAA,CACA,kBAAA,CACA,MAAA,CACA,iBAAA,CACA,sBACC,mBAAA,CACA,qBAAA,CAGD,mCACC,iBAAA,CAIA,yCACC,kBAAA,CAKH,SACC,iBAAA,CACA,mCAAA,CAGD,8BACC,YAAA,CACA,qBAAA,CACA,mBAAA,CACA,0BAAA,CACA,iBAAA,CACA,YAAA,CAGD,YACC,YAAA,CACA,QAAA,CACA,kBAAA,CACA,sBAAA,CAEA,8CACC,YAAA,CACA,qBAAA,CACA,MAAA,CACA,cAAA,CAEA,8KACC,eAAA,CACA,eAAA,CACA,aAAA,CACA,mCAAA,CAED,wDACC,eAAA,CACA,eAAA,CACA,kBAAA,CACA,aAAA,CAGD,0DACC,cAAA,CACA,aAAA,CAKH,YACC,YAAA,CACA,qBAAA,CACA,kBAAA,CACA,cAAA,CACA,YAAA,CACA,qBACC,cAAA,CAIF,6BACC,MAAA,CACA,SAAA,CACA,kBAAA,CAGD,2BACC,eAAA,CACA,sBAAA,CAEA,6BACC,gBAAA,CACA,yBAAA,CAIF,qBACC,gBAAA,CAGD,mDACC,WAAA,CACA,iEACC,eAAA,CACA,oBAAA,CACA,uBAAA,CAIF,mBACC,QAAA,CACA,wBAAA,CACA,iBAAA",sourcesContent:["\n.option-item {\n\tdisplay: flex;\n\talign-items: center;\n\tflex: 1;\n\tposition: relative;\n\t&.date-box {\n\t\talign-items: stretch;\n\t\tflex-direction: column;\n\t}\n\n\t.material-design-icon {\n\t\tvisibility: hidden;\n\t}\n\n\t&:hover {\n\t\t.material-design-icon {\n\t\t\tvisibility: visible;\n\t\t}\n\t}\n}\n\n.devider {\n\talign-self: center;\n\tcolor: var(--color-text-maxcontrast);\n}\n\n.option-item__option--datebox {\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: stretch;\n\tjustify-content: flex-start;\n\ttext-align: center;\n\thyphens: auto;\n}\n\n.event-date {\n\tdisplay: flex;\n\tflex: 0 1;\n\tflex-direction: row;\n\tjustify-content: center;\n\n\t.event-from, .event-to {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tflex: 1;\n\t\tmin-width: 70px;\n\n\t\t.month, .dow, .time {\n\t\t\twhite-space: pre;\n\t\t\tfont-size: 1.1em;\n\t\t\tpadding: 0 4px;\n\t\t\tcolor: var(--color-text-maxcontrast);\n\t\t}\n\t\t.day {\n\t\t\tfont-size: 1.2em;\n\t\t\tfont-weight: 600;\n\t\t\tmargin: 5px 0 5px 0;\n\t\t\tpadding: 0 4px;\n\t\t}\n\n\t\t.time {\n\t\t\tfont-size: 0.8em;\n\t\t\tpadding: 0 4px;\n\t\t}\n\t}\n}\n\n.event-time {\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tmargin-top: 8px;\n\theight: 1.5em;\n\t.time-to {\n\t\tfont-size: 0.8em;\n\t}\n}\n\n[class*='option-item__option'] {\n\tflex: 1;\n\topacity: 1;\n\twhite-space: normal;\n}\n\n.option-item__option--text {\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\n\ta {\n\t\tfont-weight: bold;\n\t\ttext-decoration: underline;\n\t}\n}\n\n.option-item__handle {\n\tmargin-right: 8px;\n}\n\n.draggable, .draggable [class*='option-item__option']  {\n\tcursor: grab;\n\t&:active {\n\t\tcursor: grabbing;\n\t\tcursor: -moz-grabbing;\n\t\tcursor: -webkit-grabbing;\n\t}\n}\n\n.option-item__rank {\n\tflex: 0 0;\n\tjustify-content: flex-end;\n\tpadding-right: 8px;\n}\n"],sourceRoot:""}]);const l=s},25919:(e,o,i)=>{i.d(o,{Z:()=>w});var a=function(){var t=this,e=t._self._c;return e("div",{},[e("NcButton",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.computedTitle,expression:"computedTitle"}],attrs:{type:"tertiary","aria-label":t.computedTitle},scopedSlots:t._u([{key:"icon",fn:function(){return[t.deleteTimeout?e("UndoIcon",{attrs:{size:t.iconSize},on:{click:function(e){return t.cancelDelete()}}}):e("DeleteIcon",{attrs:{size:t.iconSize},on:{click:function(e){return t.deleteItem()}}})]},proxy:!0}])})],1)};a._withStripped=!0;var s=i(15961),l=i(50171),r=i(4984);const A={name:"ActionDelete",components:{DeleteIcon:l.Z,UndoIcon:r.Z,NcButton:s.P2},props:{timeout:{type:Number,default:4},title:{type:String,default:t("polls","Delete")},iconSize:{type:Number,default:20}},data:()=>({deleteInterval:null,deleteTimeout:null,countdown:4}),computed:{countdownTitle(){return n("polls","Deleting in {countdown} second","Deleting in {countdown} seconds",this.countdown,{countdown:this.countdown})},computedTitle(){return this.deleteTimeout?this.countdownTitle:this.title}},methods:{deleteItem(){this.countDown=this.timeout,this.deleteInterval=setInterval((()=>{this.countdown-=1,this.countdown<0&&(this.countdown=0)}),1e3),this.deleteTimeout=setTimeout((()=>{this.$emit("delete"),this.deleteTimeout=null,this.deleteInterval=null,this.countdown=this.timeout}),1e3*this.timeout)},cancelDelete(){clearTimeout(this.deleteTimeout),clearInterval(this.deleteInterval),this.deleteTimeout=null,this.deleteInterval=null,this.countdown=this.timeout}}};var d=i(93379),c=i.n(d),m=i(7795),p=i.n(m),C=i(90569),u=i.n(C),v=i(3565),h=i.n(v),f=i(19216),x=i.n(f),g=i(44589),y=i.n(g),_=i(13772),b={};b.styleTagTransform=y(),b.setAttributes=h(),b.insert=u().bind(null,"head"),b.domAPI=p(),b.insertStyleElement=x();c()(_.Z,b);_.Z&&_.Z.locals&&_.Z.locals;const w=(0,i(51900).Z)(A,a,[],!1,null,null,null).exports},45822:(t,e,n)=>{n.d(e,{Z:()=>_});var o=function(){var t=this,e=t._self._c;return e(t.tag,{tag:"Component",staticClass:"option-item",class:{draggable:t.isDraggable,"date-box":"dateBox"===t.show}},[t.isDraggable?e("DragIcon",{class:{draggable:t.isDraggable}}):t._e(),t._t("icon"),"textBox"===t.show?e("div",{directives:[{name:"tooltip",rawName:"v-tooltip.auto",value:t.optionTooltip,expression:"optionTooltip",modifiers:{auto:!0}}],staticClass:"option-item__option--text",domProps:{innerHTML:t._s(t.optionText)}}):t._e(),"dateBox"===t.show?e("div",{directives:[{name:"tooltip",rawName:"v-tooltip.auto",value:t.dateLocalFormatUTC,expression:"dateLocalFormatUTC",modifiers:{auto:!0}}],staticClass:"option-item__option--datebox"},[e("div",{staticClass:"event-date"},[e("div",{staticClass:"event-from"},[e("div",{staticClass:"month"},[t._v(" "+t._s(t.eventOption.from.month)+" ")]),e("div",{staticClass:"day"},[t._v(" "+t._s(t.eventOption.from.dow)+" "+t._s(t.eventOption.from.day)+" ")]),t.eventOption.dayLong?t._e():e("div",{staticClass:"time"},[t._v(" "+t._s(t.eventOption.from.time)+" "),!t.eventOption.dayLong&&t.option.duration&&t.eventOption.to.sameDay?e("span",[t._v(" - "+t._s(t.eventOption.to.time)+" ")]):t._e()])]),t.option.duration&&!t.eventOption.to.sameDay?e("div",{staticClass:"devider"},[t._v(" - ")]):t._e(),t.option.duration&&!t.eventOption.to.sameDay?e("div",{staticClass:"event-to"},[e("div",{staticClass:"month"},[t._v(" "+t._s(t.eventOption.to.month)+" ")]),e("div",{staticClass:"day"},[t._v(" "+t._s(t.eventOption.to.dow)+" "+t._s(t.eventOption.to.day)+" ")]),t.eventOption.dayLong?t._e():e("div",{staticClass:"time"},[t._v(" "+t._s(t.eventOption.to.time)+" ")])]):t._e()])]):t._e(),t._t("actions")],2)};o._withStripped=!0;var i=n(80351),a=n.n(i),s=n(50337);const l={name:"OptionItem",components:{DragIcon:n(60625).Z},props:{draggable:{type:Boolean,default:!1},option:{type:Object,required:!0},tag:{type:String,default:"div"},display:{type:String,default:"textBox",validator:t=>["textBox","dateBox"].includes(t)},pollType:{type:String,default:"textPoll",validator:t=>["textPoll","datePoll"].includes(t)}},computed:{isDraggable(){return this.draggable},eventOption(){const t=a().unix(this.option.timestamp),e=a().unix(this.option.timestamp+Math.max(0,this.option.duration)),n=t.unix()===a()(t).startOf("day").unix()&&e.unix()===a()(e).startOf("day").unix()&&t.unix()!==e.unix(),o=n?1:0,i=a()(e).subtract(o,"days");return"datePoll"!==this.pollType?{}:{from:{month:t.format(a()().year()===t.year()?"MMM":"MMM [ ']YY"),day:t.format("D"),dow:t.format("ddd"),time:t.format("LT"),date:t.format("ll"),dateTime:t.format("llll"),utc:a()(t).utc().format("llll")},to:{month:i.format(a()().year()===i.year()?"MMM":"MMM [ ']YY"),day:i.format("D"),dow:i.format("ddd"),time:e.format("LT"),date:i.format("ll"),dateTime:e.format("llll"),utc:a()(e).utc().format("llll"),sameDay:t.format("L")===i.format("L")},dayLong:n}},dateLocalFormat(){return"datePoll"!==this.pollType?{}:0===this.option.duration?this.eventOption.from.dateTime:this.eventOption.dayLong&&this.eventOption.to.sameDay?this.eventOption.from.date:this.eventOption.dayLong&&!this.eventOption.to.sameDay?"".concat(this.eventOption.from.date," - ").concat(this.eventOption.to.date):this.eventOption.to.sameDay?"".concat(this.eventOption.from.dateTime," - ").concat(this.eventOption.to.time):"".concat(this.eventOption.from.dateTime," - ").concat(this.eventOption.to.dateTime)},dateLocalFormatUTC(){return this.option.duration?"".concat(this.eventOption.from.utc," - ").concat(this.eventOption.to.utc," UTC"):"".concat(this.eventOption.from.utc," UTC")},optionTooltip(){return"datePoll"===this.pollType?this.dateLocalFormatUTC:this.option.text},optionText(){return"datePoll"===this.pollType?this.dateLocalFormat:(0,s.default)(this.option.text)},show(){return"datePoll"===this.pollType&&"dateBox"===this.display?"dateBox":"textBox"}}};var r=n(93379),A=n.n(r),d=n(7795),c=n.n(d),m=n(90569),p=n.n(m),C=n(3565),u=n.n(C),v=n(19216),h=n.n(v),f=n(44589),x=n.n(f),g=n(50727),y={};y.styleTagTransform=x(),y.setAttributes=u(),y.insert=p().bind(null,"head"),y.domAPI=c(),y.insertStyleElement=h();A()(g.Z,y);g.Z&&g.Z.locals&&g.Z.locals;const _=(0,n(51900).Z)(l,o,[],!1,null,null,null).exports}}]);
//# sourceMappingURL=polls-src_js_mixins_optionMixins_js-src_js_components_Actions_ActionDelete_vue-src_js_components_Op-6b087e.js.map?v=7016bf7f3d76b48cf85e